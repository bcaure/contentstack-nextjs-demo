{"blt7bec7032564bddf9":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt7bec7032564bddf9","created_at":"2021-04-07T12:09:17.932Z","updated_at":"2021-04-07T12:09:17.932Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Social Share","config":{},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!DOCTYPE html>\n<html>\n\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\n  <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\n  <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.min.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n  <style media=\"all\">\n.field-label{color:#4f6471;font-size:15px!important}.form-control{color:#748590;height:35px!important;max-width:255px!important}.container{padding-top:15px}.thumbnail{width:100%;height:100%}.select2-results__option{width:20%;float:left}img.img-thumbnail{max-height:126px}.cs-btn-primary{width:103px;margin-top:5px;margin-bottom:20px}.cs-btn-primary img{vertical-align:sub;margin-right:10px}.cs-btn-primary[disabled]{width:160px}.cs-form-group{margin-bottom:35px}#set-form-group{margin-bottom:16px}label{font-weight:400;font-size:14px;color:#4F6470}.badge-info{background:#F0F9FE;border-radius:3px;font-size:14px;color:#6C7982;border:1px solid #C9DDE2;white-space:normal}.count-value,.keys{color:#748490;font-size:14px}.keys{width:34%;margin-bottom:10px;display:inline-block}.list-group-item{background-color:#fff;border:none;padding-left:0}.result-li{font-size:14px}#result-container{max-height:360px;overflow:auto;padding-bottom:25px}body{max-height:600px;overflow:auto}.result-wrapper{border-bottom:2px solid rgba(0,0,0,.125)}#result-container::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}#result-container::-webkit-scrollbar{width:5px;background-color:transparent}#result-container::-webkit-scrollbar-thumb{border-radius:6px;background-color:#dfe2e9;cursor:pointer}.alert-danger{display:block;font-size:12px;color:#F77D7A;text-align:left;padding-top:0;padding-left:0;margin-top:-10px;background-color:transparent;border:0}.btn-facebook,.btn-linkedin{border-radius:4px;font-size:13px;height:28px;padding:0 4px 0 6px;margin-bottom:6px;color:#fff}.btn-facebook{background-color:#4C67A1}.btn-facebook:hover{color:#fff;background-color:#405D9B}.btn-facebook:focus{color:#fff}.btn-linkedin{background-color:#0077b5}.btn-linkedin:hover{color:#fff;background-color:#405D9B}.btn-linkedin:focus{color:#fff}\n</style>\n  <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\" integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>\n\n  <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.js\"></script>\n  <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.2/css/all.css\" integrity=\"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr\" crossorigin=\"anonymous\">\n \n</head>\n\n<body>\n\n  <div class=\"container\">\n    <div class=\"cs-form-group\">\n        <label for=\"field\" class=\"field-label\">Select URL</label>\n      <select class=\"form-control url\" for=\"url\" id=\"url\"></select>\n      <label for=\"field\" style=\"margin-top:8px\" class=\"field-label\">Select Field To Share</label>\n      <select class=\"form-control\" id=\"field\"></select>\n      <label for=\"field\" style=\"margin-top:8px; display:none\" class=\"field-label\">Select Image To Share</label>\n      <select class=\"form-control\" style=\"display:none\" id=\"image_url\"></select>\n    </div>\n    <a style=\"display: none\" href=\"https://twitter.com/intent/tweet?text=\" disabled class=\"twitter-share-button-template\" id=\"twitter-button\" data-url=\"h\" data-size=\"large\" data-count=\"vertical\">Loading ...</a>\n\n    <a style=\"display: none\" disabled href=\"https://www.facebook.com/sharer/sharer.php?u=\" target=\"blank\" class=\"facebook-share-button-template\" id=\"facebook-button\" onclick=\"window.open(this.href,'targetWindow','toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false\"><button style=\"width:76px\" type=\"button\" class=\"btn btn-facebook btn-lg\"><i class=\"fab fa-facebook fa-2\"></i>Share</button></a>\n\n    <a style=\"display: none\" disabled href=\"https://pinterest.com/pin/create/bookmarklet/?media\" target=\"blank\" class=\"pinterest-share-button-template\" id=\"pinterest-button\" onclick=\"window.open(this.href,'targetWindow','toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false\"><button style=\"width:76px; background-color: #cb2027; height: 29px;\" type=\"button\" class=\"btn btn-pinterest btn-lg\"><i class=\"fab fa-pinterest fa-2\"></i>Pinit</button></a>\n\n     <a style=\"display: none\" disabled href=\"https://www.linkedin.com/shareArticle?text=\" target=\"blank\" class=\"linkedin-share-button-template\" id=\"linkedin-button\" onclick=\"window.open(this.href,'targetWindow','toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false\"><button style=\"width:76px;\" type=\"button\" class=\"btn btn-linkedin btn-lg\"><i class=\"fab fa-linkedin in\"></i>LinkedIn</button></a>\n\n    <div id=\"twitter-share-button-div\">\n\n    </div>\n\n    <div id=\"facebook-share-button-div\">\n\n\n    </div>\n\n\n    <div id=\"linkedin-share-button-div\">\n\n    </div>\n\n    <div id=\"pinterest-share-button-div\">\n\n    </div>\n  </div>\n\n\n  <div class=\"container\" id=\"result-container\">\n    <ul class=\"list-group\" id=\"result-list\">\n    </ul>\n  </div>\n  <script>\n\"use strict\";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var fieldPaths=[],filePaths=[],url=$(\".url\"),extensionField=void 0;function renderFieldSelectField(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"#field\",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"#image_url\",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:\"#url\",e=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],o=$(n).val();$(n).empty(),$(a).empty(),(fieldPaths=getPaths(t.entry.content_type,t.entry.getData(),e,r)).forEach(function(t){var e=$(\"<option></option>\").attr(\"value\",t.uid).text(t.titlePaths.join(\" > \"));o===t.uid&&e.attr(\"selected\",\"selected\"),$(n).append(e)}),(filePaths=getFiles(t.entry.content_type,t.entry.getData(),e,r)).forEach(function(t){var e=$(\"<option></option>\").attr(\"value\",\"https://images.contentstack.io\"+t.value.url).text(t.titlePaths.join(\" > \"));o===t.uid&&e.attr(\"selected\",\"selected\"),$(a).append(e)}),t.stack.getEnvironments().then(function(t){t.environments.forEach(function(t){if(t.urls[0].url){var e=$(\"<option></option>\").attr(\"value\",t.urls[0].url).text(t.urls[0].url);e.attr(\"selected\",\"selected\"),$(i).append(e)}}),updateButton()})}function getPaths(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=(!(3<arguments.length&&void 0!==arguments[3])||arguments[3],[]);return function s(t,n,e,d){var c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],a=e?e.split(\".\"):[];t.forEach(function(o,t){var l=[].concat(_toConsumableArray(a),[o.uid]),u=l.join(\".\");if(n&&void 0!==n[o.uid]){if(\"text\"===o.data_type)if(!1===o.multiple){var e=d||u;r.push({uid:u,path:l,value:n[o.uid],setuid:e,titlePaths:[].concat(_toConsumableArray(c),[o.display_name])})}else 0<n[o.uid].length&&!0===i&&n[o.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]),a=(n.join(\".\"),d||u);r.push({uid:n.join(\".\"),path:n,value:t,setuid:a,titlePaths:[].concat(_toConsumableArray(c),[o.display_name,e])})});\"group\"===o.data_type&&(!1===o.multiple?s(o.schema,n[o.uid],u,d,[].concat(_toConsumableArray(c),[o.display_name])):0<n[o.uid].length&&n[o.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]);s(o.schema,t,n.join(\".\"),d,[].concat(_toConsumableArray(c),[o.display_name,e]))})),\"blocks\"===o.data_type&&!0===i&&0<n[o.uid].length&&n[o.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]),a=Object.keys(t)[0],i=o.blocks.find(function(t){return t.uid===a}).schema,r=t[a];d=u,s(i,r,n.join(\".\"),d,[].concat(_toConsumableArray(c),[o.display_name,e]))})}})}(t.schema,e),r}function getFiles(t,e){var s=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],d=[];return function(t,n,e,l){var u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],a=e?e.split(\".\"):[];t.forEach(function(i,t){var r=[].concat(_toConsumableArray(a),[i.uid]),o=r.join(\".\");if(n&&void 0!==n[i.uid]&&\"file\"===i.data_type)if(!1===i.multiple){var e=l||o;d.push({uid:o,path:r,value:n[i.uid],setuid:e,titlePaths:[].concat(_toConsumableArray(u),[i.display_name])})}else 0<n[i.uid].length&&!0===s&&n[i.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(r),[e]),a=(n.join(\".\"),l||o);d.push({uid:n.join(\".\"),path:n,value:t,setuid:a,titlePaths:[].concat(_toConsumableArray(u),[i.display_name,e])})})})}(t.schema,e),d}function domChangeListner(t){t.entry.onSave(function(){return renderFieldSelectField(t)}),$(\"#url\").on(\"change\",updateButton),$(\"#field\").on(\"change\",updateButton),$(\"#image_url\").on(\"change\",updateButton)}function updateButton(t){var e=$(\"#field\").val(),n=fieldPaths.find(function(t){return t.uid===e});if(n){var a=$(\".url option:selected\").text()+extensionField.entry.getField(\"url\").getData(),i=$(\"#image_url option:selected\").val(),r=extensionField.entry.getField(\"title\").getData();$(\"#twitter-share-button-div\").empty();var o=$(\".twitter-share-button-template\").clone();o.removeAttr(\"style\"),o.attr(\"href\",\"https://twitter.com/intent/tweet?url=\"+a+\"&text=\"+n.value.substring(0,280)+\"&via=\"+$(\".url option:selected\").text()),o.attr(\"class\",\"twitter-share-button\"),$(\"#twitter-share-button-div\").append(o),$.getScript(\"https://platform.twitter.com/widgets.js\"),$(\"#linkedin-share-button-div\").empty();var l=$(\".linkedin-share-button-template\").clone();l.removeAttr(\"style\"),l.attr(\"href\",\"https://www.linkedin.com/shareArticle?url=\"+a+\"&title=\"+r),l.attr(\"class\",\"linkedin-share-button\"),$(\"#linkedin-share-button-div\").append(l),$(\"#facebook-share-button-div\").empty();var u=$(\".facebook-share-button-template\").clone();u.removeAttr(\"style\"),u.attr(\"href\",\"https://www.facebook.com/sharer/sharer.php?u=\"+a+\"&t=\"+n.value.substring(0,280)),u.attr(\"class\",\"facebook-share-button\"),$(\"#facebook-share-button-div\").append(u),$(\"#pinterest-share-button-div\").empty();var s=$(\".pinterest-share-button-template\").clone();s.removeAttr(\"style\"),s.attr(\"href\",\"https://pinterest.com/pin/create/bookmarklet/?media=\"+i+\"&url=\"+a+\"&is_video=\"+!1+\"&description=\"+r),s.attr(\"class\",\"pinterest-share-button\"),$(\"#pinterest-share-button-div\").append(s),$(\"#pinterest-share-button-div\").hide()}}$(document).ready(function(){ContentstackUIExtension.init().then(function(t){(extensionField=t).window.enableAutoResizing(),renderFieldSelectField(extensionField),domChangeListner(extensionField)})});\n</script>\n</body>\n\n</html>"},"bltbf94b11e11f3885e":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/bltbf94b11e11f3885e","created_at":"2021-04-07T12:09:17.966Z","updated_at":"2021-04-07T12:09:17.966Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Product Importer & Exporter","config":{},"type":"dashboard","enable":true,"default_width":"half","srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Product Export</title>\n    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\n    <link href=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.0/dist/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n    <style media=\"all\">\nbody{background:#f8f8f8}#import-button{margin-top:7px}#process-queue-list{margin-top:20px;overflow-y:scroll;height:265px}#menu-container{display:none}#output-container{display:none}#export-container{margin-bottom:10px}.cs-form-group{display:flex;margin-bottom:5px}.cs-form-group .field-label{margin:8px 9px 0 0;font-size:14px}.cs-text-box{width:70px;margin-right:5px}input#product-count{border-color:#f8f8f8;font-weight:bolder;color:#52636f;background-color:#f8f8f8;width:45px;text-overflow:ellipsis}.loader{margin:0 auto;border:5px solid #f3f3f3;border-top:5px solid #3489db;border-radius:50%;width:45px;height:45px;animation:spin 1s linear infinite;margin-top:20%}#email-container>span{display:none;margin-right:7px;background-image:url(https://images.contentstack.io/v3/assets/bltd1343376dfba54d2/blta0b4f830d61ba527/5b58019b4f5e9b551d22f4f9/loading.gif);background-size:100%;background-color:#8a2be200;background-repeat:no-repeat;width:15px;height:15px;background-position:0 0;line-height:20px;text-align:center;position:relative;top:2px}.locale-select{width:195px}.email-status{color:green;display:none}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.auto-hide{-webkit-animation:css-animation 8s forwards;animation:css-animation 8s forwards}@keyframes css-animation{0%{opacity:1}90%{opacity:1}100%{opacity:0}}@-webkit-keyframes css-animation{0%{opacity:1}90%{opacity:1}100%{opacity:0}}.container{max-width:94%}\n</style>\n</head>\n\n<body>\n    <div class=\"container\">\n        <div class=\"loader\"></div>\n        <div id=\"message-pane\">\n        </div>\n        <div id=\"menu-container\">\n            <div id=\"export-container\">\n                <h2>Product Exporter</h2>\n                <div class=\"cs-form-group\">\n                    <label class=\"field-label\">Total Products:</label>\n                    <input disabled id=\"product-count\" class=\"cs-text-box\">\n                    <label class=\"field-label\">Export Count:</label>\n                    <input id=\"export-count\" type=\"number\" value=\"100\" min=\"0\" max=\"100\" class=\"cs-text-box\">\n                    <label class=\"field-label\">Offset:</label>\n                    <input id=\"Offset-count\" type=\"number\" value=\"0\" min=\"0\" class=\"cs-text-box\">\n                </div>\n                <button id=\"export-button\" onclick=\"exportProduct()\" class=\"btn cs-btn-circle\">Export Products</button>\n            </div>\n            <div id=\"import-container\">\n                <h2>Product Importer</h2>\n                <label id=\"import-button\" class=\"btn cs-btn-circle\">\n                    Select File To Import Products <input accept=\"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, text/csv\" id=\"export-file\" type=\"file\" hidden>\n                </label>\n            </div>\n        </div>\n        <div id=\"output-container\">\n            <div class=\"sticky-top\">\n                <span id=\"success-counter\" class=\"badge badge-success\"></span>\n                <span id=\"failed-counter\" class=\"badge badge-danger\"></span>\n                <span id=\"pending-counter\" class=\"badge badge-secondary\"></span>\n                <span id=\"update-counter\" class=\"badge badge-info\"></span>\n                <span id=\"create-counter\" class=\"badge badge-info\"></span>\n                <span id=\"total-counter\" class=\"badge badge-info\">Total: 0</span>\n                <span id=\"time-counter\" class=\"badge badge-info\">Time: 0</span>\n                <button id=\"clear-btn\" type=\"button\" onclick=\"load()\" class=\"btn cs-btn-circle float-right\">Clear</button>\n            </div>\n            <ul id=\"process-queue-list\" class=\"list-group\">\n            </ul>\n        </div>\n    </div>\n    <script src=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.0/dist/ui-extension-sdk.js\"></script>\n    <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\">\n    </script>\n    <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossorigin=\"anonymous\">\n    </script>\n    <script type=\"text/javascript\" src=\"https://unpkg.com/xlsx@0.14.4/dist/xlsx.full.min.js\"></script>\n    <script type=\"text/javascript\" src=\"https://unpkg.com/blob.js@1.0.1/Blob.js\"></script>\n    <script type=\"text/javascript\" src=\"https://unpkg.com/file-saver@1.3.3/FileSaver.js\"></script>\n    <script>\n\"use strict\";var extensionField,spinner,menuContainer,offsetCount,exportCount,productCount,exportButton,processQueueList,outputContainer,messagePane,clearButton,total,emailUrl,failed=0,passed=0,updated=0,created=0,startTime=new Date;function exportProduct(){var e=parseInt(exportCount.val())||100,t=parseInt(offsetCount.val())||0;menuContainer.hide(),spinner.show(),extensionField.stack.ContentType(\"product\").Entry.Query().includeReference(\"categories\").limit(e).skip(t).find().then(function(e){var t=e.entries;console.log(t,\"-------------\");var n=t.map(function(e){var t=e.uid,n=e.title,o=e.url,a=e.description,s=e.tweet_text,i=e.tags,r=void 0===i?[]:i,c=e.categories,u=void 0===c?[]:c,l=e.featured_image,d=void 0===l?[]:l,p=e.seo;return{uid:t,title:n,url:o,description:a,categories:u.map(function(e){return e.uid}).join(\",\"),category_titles:u.map(function(e){return e.title}).join(\",\"),_content_type_uid:u.map(function(e){return e._content_type_uid}).join(\",\"),featured_image:d.map(function(e){return e.uid}).join(\",\"),featured_image_titles:d.map(function(e){return e.title}).join(\",\"),tags:r.map(function(e){return e}).join(\",\"),tweet_text:s,seo_description:p?p.description:\"\",seo_keyword:p?p.keyword:\"\",enable_for_robots:!!p&&p.enable_for_robots,enable_for_site_search:!!p&&p.enable_for_site_search,enable_for_sitemap:!!p&&p.enable_for_sitemap}}),o=XLSX.utils.book_new(),a=XLSX.utils.json_to_sheet(n);XLSX.utils.book_append_sheet(o,a,\"products\"),XLSX.writeFile(o,\"products.xlsx\"),load()})}function load(){processQueueList.empty(),clearButton.hide(),outputContainer.hide(),spinner.show(),messagePane.empty(),created=updated=total=passed=failed=0,extensionField.stack.getLocales().then(function(e){e.locales.forEach(function(e){var t=$(\"<option></option>\").attr(\"value\",e.code).text(e.name);t.attr(\"selected\",\"selected\"),$(\"#locale-select\").append(t)})}),extensionField.stack.getEnvironment(\"production\").then(function(e){var t=e.environment;console.log(t,\"-----------------------\"),emailUrl=(emailUrl=t.urls?t.urls[0].url:\"https://demo3.contentstackdemos.com\")||\"https://demo3.contentstackdemos.com\"}),extensionField.stack.ContentType(\"product\").Entry.Query().count().then(function(e){var t=e.entries;offsetCount.attr(\"max\",t-1),productCount.attr(\"value\",t).attr(\"title\",t),parseInt(t)<100&&exportCount.attr(\"value\",t).attr(\"max\",t),spinner.hide(),menuContainer.show()}).catch(function(e){console.log(e),menuContainer.show(),spinner.hide()})}function sendMessage(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=$('<span class=\"badge badge-pill badge-'.concat(2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"warning\",'\">').concat(e,\"</span></br>\"));messagePane.append(n),!0===t&&setTimeout(function(){n.hide(1e3)},1e4)}function onSuccess(e){processQueueList.append('<li class=\"list-group-item list-group-item-success\">Imported entry with title \"'.concat(e,'\" and sheet row number \"').concat(index+2,'\"')),passed+=1,--total,$(\"#success-counter\").html(\"Success: \".concat(passed)),$(\"#pending-counter\").html(\"In Queue: \".concat(total)),$(\"#time-counter\").html(\"Time Passed: \".concat(Math.round((new Date-startTime)/1e3),\" seconds\"))}function onError(e){failed+=1,--total,$(\"#pending-counter\").html(\"In Queue: \".concat(total)),$(\"#failed-counter\").html(\"Failed: \".concat(failed)),$(\"#time-counter\").html(\"Time Passed: \".concat(Math.round((new Date-startTime)/1e3))),processQueueList.append('<li class=\"list-group-item list-group-item-danger\">Failed to Import entry with title \"'.concat(e,'\" and sheet row number \"').concat(index+2,'\" </li>'))}function onEmailSuccess(e){console.log(e,\"success\"),e.ok?$(\".email-status\").text(\"Email Sent Successfully\"):$(\".email-status\").text(\"Email Sending Failed\"),$(\".email-status\").css(\"display\",\"inline-block\"),$(\"#email-spreadsheet\").removeAttr(\"disabled\"),$(\".spinner\").css(\"display\",\"none\"),$(\".email-status\").addClass(\"auto-hide\")}function onEmailFail(e){$(\".email-status\").text(e),$(\".email-status\").css(\"display\",\"inline-block\"),$(\"#email-spreadsheet\").removeAttr(\"disabled\"),$(\".spinner\").css(\"display\",\"none\"),$(\".email-status\").addClass(\"auto-hide\")}function emailProduct(){$(\"#email-spreadsheet\").attr(\"disabled\",!0),$(\".auto-hide\").css(\"display\",\"none\"),$(\".spinner\").css(\"display\",\"inline-block\");var e={data:{locale:\"\".concat($(\"#locale-select\").val())}};fetch(\"\".concat(emailUrl,\"/webhook/mail-product-xlsx\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":!0},body:JSON.stringify(e)}).then(function(e){return e}).then(function(e){onEmailSuccess(e)}).catch(function(e){onEmailSuccess(e)})}function getCurrentDataIfExists(e){return extensionField.stack.ContentType(\"product\").Entry.Query().where(\"uid\",e).find().then(function(e){if(!e.entries.length)throw new Error;return Promise.resolve({doesExists:!0,entries:e.entries})}).catch(function(e){return Promise.resolve({doesExists:!1})})}function passedEntry(e,t,n){processQueueList.append('<li class=\"list-group-item list-group-item-success\">Imported entry with title \"'.concat(e,'\" and sheet row number \"').concat(t+2,'\"')),passed+=1,--total,$(\"#\".concat(n.type)).html(\"\".concat(n.text,\": \").concat(n.count)),$(\"#success-counter\").html(\"Success: \".concat(passed)),$(\"#pending-counter\").html(\"In Queue: \".concat(total)),$(\"#time-counter\").html(\"Time Passed: \".concat(Math.round((new Date-startTime)/1e3),\" seconds\"))}function failedEntry(e,t,n){failed+=1,--total,$(\"#pending-counter\").html(\"In Queue: \".concat(total)),$(\"#failed-counter\").html(\"Failed: \".concat(failed)),$(\"#time-counter\").html(\"Time Passed: \".concat(Math.round((new Date-startTime)/1e3))),processQueueList.append('<li class=\"list-group-item list-group-item-danger\">Failed to '.concat(n,' entry with title \"').concat(e,'\" and sheets row number \"').concat(t+2,'\" </li>'))}function importProducts(e){var t=[];menuContainer.hide(),outputContainer.show(),total=e.length,$(\"#total-counter\").html(\"Total: \".concat(total)),$(\"#pendimportProductsing-counter\").html(\"In Queue: \".concat(total));var n=e.map(function(n,o){return t=[],n.featured_image=n.featured_image?n.featured_image.split(\",\"):\"\",n.tags=n.tags?n.tags.split(\",\"):\"\",n.categories&&n.categories.split(\",\").forEach(function(e){e&&t.push({uid:\"\".concat(e),_content_type_uid:\"category\"})}),n.seo={description:n.seo_description,keyword:n.seo_keyword},n.seo.enable_for_robots=!!n.enable_for_robots,n.seo.enable_for_site_search=!!n.enable_for_site_search,n.seo.enable_for_sitemap=!!n.enable_for_sitemap,console.log(n.seo,\"SEO\"),n.categories=t,new Promise(function(t,e){getCurrentDataIfExists(n.uid).then(function(e){e.doesExists?extensionField.stack.ContentType(\"product\").Entry(e.entries[0].uid).update({entry:n}).then(function(){passedEntry(n.title,o,{count:++updated,type:\"update-counter\",text:\"Entries Updated: \"}),t()}).catch(function(e){console.log(e,\"errors\"),failedEntry(n.title,o,\"Import\"),t()}):extensionField.stack.ContentType(\"product\").Entry.create({entry:n}).then(function(){passedEntry(n.title,o,{count:++created,type:\"create-counter\",text:\"Entries Created: \"}),t()}).catch(function(e){console.log(e,\"errors\"),failedEntry(n.title,o,\"Create\"),t()})})})});return Promise.all(n).then(function(){sendMessage(\"Operation was completed in \".concat(Math.round((new Date-startTime)/1e3),\" with \").concat(passed,\" success and \").concat(failed,\" failures\"),!1,\"info\"),clearButton.show()})}function handleFile(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){var t=new Uint8Array(e.target.result),n=XLSX.read(t,{type:\"array\"});n.SheetNames.forEach(function(e){importProducts(XLSX.utils.sheet_to_row_object_array(n.Sheets[e]))})},n.readAsArrayBuffer(t)}$(document).ready(function(){spinner=$(\".loader\"),offsetCount=$(\"#offset-count\"),exportCount=$(\"#export-count\"),menuContainer=$(\"#menu-container\"),exportButton=$(\"#export-button\"),productCount=$(\"#product-count\"),processQueueList=$(\"#process-queue-list\"),outputContainer=$(\"#output-container\"),clearButton=$(\"clear-btn\"),messagePane=$(\"#message-pane\"),ContentstackUIExtension.init().then(function(e){$(\"#export-file\").change(handleFile),extensionField=e,load(),extensionField.window.enableAutoResizing()})});\n</script>\n</body>\n\n</html>"},"bltf2c447ff2502bc1a":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/bltf2c447ff2502bc1a","created_at":"2021-04-07T12:09:18.147Z","updated_at":"2021-04-07T12:09:18.147Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":["welcome_dashboard_extension"],"ACL":[],"_version":1,"title":"Welcome to Contentstack","config":{},"type":"dashboard","enable":true,"default_width":"full","src":"https://freetrial-welcome-dashboard-widget.vercel.app"},"blt471e0eefe7329697":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt471e0eefe7329697","created_at":"2021-04-07T12:09:18.176Z","updated_at":"2021-04-07T12:09:18.176Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Site Analytics","config":{"url":"https://t7aikg25xb.execute-api.us-east-1.amazonaws.com/prod/google-analytics-widget","view_id":"190756444","x-api-key":"tUH3BxlmEx55nPjQJjXaF6GV4FkcFy588y4RqPS4"},"type":"dashboard","enable":true,"default_width":"full","srcdoc":"<!DOCTYPE html>\n<html>\n<head>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" charset=\"UTF-8\">\n<link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n<style>\n.tbl{margin-left:0;margin-bottom:15px;padding-left:5px}.tbl ul{margin:0;padding:0;list-style:none}.tbl ul li{display:inline-block}.btn{border-radius:2px}.errormsg{font-family:Arial,Helvetica,sans-serif;font-weight:700;margin-left:0;margin-right:0;margin-top:0;background-color:#eff1f4;width:100%;height:auto;font-size:23px;text-align:center}#tag{margin:0 5px 7px 17px;background-color:#fff;width:85px}#loader{display:none;margin-left:0;margin-top:0;text-align:center;width:100%;position:absolute;top:50%;transform:translateY(-50%);z-index:1}.metric-details{margin:2px 2px 0 40px}.metric-details p{font-size:14px;color:#748590;line-height:22px;font-family:proximaNovaSemiBold}.metric-details h1{font-size:20px;color:#4f6471;line-height:22px;font-family:proximaNovaSemiBold}.line{height:2px;color:#efefef;margin-top:24px;margin-left:20px;margin-right:20px;margin-bottom:24px}#link{display:none}p{font-size:14px;margin:0}h1{color:#4f6471;font-size:24px;margin:0;line-height:1}a{text-decoration:none;color:#4f6471}a:hover{color:#25bd9f}.graph-wrap{width:49.9%;display:inline-block;position:relative;left:-15px}#canvasbody::after,#canvasbody::before{content:\"\";display:table}\n</style>\n<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n<script src=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.0.0/dist/ui-extension-sdk.js\"></script>\n</head><body>\n<div class=\"tbl wrappper\">\n  <ul>\n    <li>\n      <button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(1,this)\">1 day</button>\n    </li>\n    <li>\n      <button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(7,this)\">7 days</button>\n    </li>\n    <li>\n      <button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(15,this)\">15 days</button>\n    </li>\n    <li>\n      <button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(30,this)\">30 days</button>\n    </li>\n    <li>\n      <button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(180,this)\">180 days</button>\n    </li>\n    <li>\n      <button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(365,this)\">365 days</button>\n    </li>\n  </ul>\n</div>\n  <div id=\"error\" class=\"errormsg\">\n  </div>\n  <div id=\"loader\" class=\"reference-loading\">\n     <div class=\"loading-flash\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n  </div>\n <div id=\"canvasbody\">\n </div>\t\n <script>\n\"use strict\";var _createClass=function(){function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var extensionDashboardField=void 0,analytics=void 0,currentData=void 0,Analytics=function(){function n(e){var t=e.url,a=e.view_id,r=e[\"x-api-key\"];_classCallCheck(this,n),this.baseUrl=t,this.viewId=a,this.xApiKey=r}return _createClass(n,[{key:\"getData\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:30,t=this,a={};return t.xApiKey&&(a[\"x-api-key\"]=t.xApiKey),fetch(t.baseUrl+\"?view_id=\"+t.viewId+\"&start_date=\"+e+\"daysAgo&end_date=today&metrics=ga:pageviews,ga:uniquePageviews,ga:users,ga:newUsers,ga:avgTimeOnPage,ga:pageLoadTime,ga:bounceRate&dimensions=ga:date\",{method:\"GET\",headers:a}).then(function(e){if(200===e.status)return e.json();throw new Error(\"Error in fetching data.</br>Please check extension configuration.\")}).catch(function(e){return Promise.reject(e)})}}]),n}();function toggleLoader(e){document.getElementById(\"loader\").style.display=e?\"block\":\"none\"}function toggleButtons(e){for(var t=document.getElementsByClassName(\"btn cs-btn-primary\"),a=0;a<t.length;a+=1)t[a].disabled=e;toggleLoader(e)}function formatDate(e){return e[0]+e[1]+e[2]+e[3]+\"-\"+(e[4]+e[5])+\"-\"+(e[6]+e[7])}function addPadding(e){return 1===e.length?\"0\"+e:\"\"+e}function formatTime(e){var t,a,r,n=e;return t=((n%=86400)/3600).toFixed(),a=((n%=3600)/60).toFixed(),r=(n%=60).toFixed(),addPadding(t)+\":\"+addPadding(a)+\":\"+addPadding(r)}function drawChart(e,t){var a=google.visualization.arrayToDataTable(e);new google.visualization.AreaChart(document.getElementById(\"chart_container_\"+t)).draw(a,{hAxis:{textPosition:\"none\"},vAxis:{minValue:0},legend:\"none\",colors:[\"#098ec8\"],backgroundColor:\"#F8F8F8\"})}function renderMetric(e,t,a,r){document.getElementById(\"canvasbody\").innerHTML+='<div class=\"graph-wrap\"><div class=\"metric-details\"><p>'+r+\"</p><h1>\"+t+'</h1></div><div id=\"chart_container_'+a+'\"></div></div>',drawChart(e,a)}function displayError(e){document.getElementById(\"error\").innerHTML=\"<p>\"+e+\"</p>\"}function renderData(e){document.getElementById(\"canvasbody\").innerHTML=\" \";var t,a=void 0,r=void 0,n=void 0,o=void 0,i=void 0,s=void 0,u=void 0,c=(currentData=e||currentData).totalsForAllResults[\"ga:pageviews\"],d=currentData.totalsForAllResults[\"ga:uniquePageviews\"],l=currentData.totalsForAllResults[\"ga:users\"],g=currentData.totalsForAllResults[\"ga:newUsers\"],m=currentData.totalsForAllResults[\"ga:avgTimeOnPage\"],v=currentData.totalsForAllResults[\"ga:pageLoadTime\"],h=currentData.totalsForAllResults[\"ga:bounceRate\"];a=[[\"year\",\"count\"]],r=[[\"year\",\"count\"]],n=[[\"year\",\"count\"]],o=[[\"year\",\"count\"]],i=[[\"year\",\"count\"]],s=[[\"year\",\"count\"]],u=[[\"year\",\"count\"]],t=currentData.rows.length;for(var b=0;b<t;b+=1)a.push([formatDate(currentData.rows[b][0]),Number(currentData.rows[b][1])]),r.push([formatDate(currentData.rows[b][0]),Number(currentData.rows[b][2])]),n.push([formatDate(currentData.rows[b][0]),Number(currentData.rows[b][3])]),o.push([formatDate(currentData.rows[b][0]),Number(currentData.rows[b][4])]),i.push([formatDate(currentData.rows[b][0]),Number(currentData.rows[b][5])]),s.push([formatDate(currentData.rows[b][0]),Number(currentData.rows[b][6])]),u.push([formatDate(currentData.rows[b][0]),Number(currentData.rows[b][7])]);Number(c)||Number(d)||Number(l)||Number(g)||Number(m)||Number(v)||Number(h)?(document.getElementById(\"error\").innerHTML=\"\",renderMetric(a,c,1,\"Pageviews\"),renderMetric(r,d,2,\"Unique Pageviews\"),renderMetric(n,l,3,\"Users\"),renderMetric(o,g,4,\"New Users\"),renderMetric(i,formatTime(m),5,\"Avg. Time on Page\"),renderMetric(s,formatTime(v),6,\"Page Load Time\"),renderMetric(u,h+\"%\",7,\"Bounce Rate\")):(document.getElementById(\"canvasbody\").innerHTML=\" \",displayError(\"No data available\")),\"full_width\"===extensionDashboardField.window.state&&extensionDashboardField.window.enableAutoResizing()}function loadIntervalData(e,t){document.getElementById(\"error\").innerHTML=\" \",document.getElementById(\"canvasbody\").innerHTML=\"\";for(var a=document.getElementsByClassName(\"btn cs-btn-primary\"),r=t,n=0;n<a.length;n+=1)a[n].style.backgroundColor=\"white\";r.style.backgroundColor=\"#e6eaf2\",toggleButtons(!0),analytics.getData(e).then(function(e){renderData(currentData=e),toggleButtons(!1)}).catch(function(e){displayError(e.message),toggleButtons(!1)})}ContentstackUIExtension.init().then(function(e){var t=document.getElementsByClassName(\"btn cs-btn-primary\");extensionDashboardField=e,google.charts.load(\"current\",{packages:[\"corechart\"]}),google.charts.setOnLoadCallback(loadIntervalData.bind(null,30,t[3])),e.window.onDashboardResize(function(){setTimeout(function(){renderData()},500)}),analytics=new Analytics(extensionDashboardField.config),extensionDashboardField.window.enableResizing()});\n</script>\n </body>\n</html>"},"blt49ea2bf6622ba32b":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt49ea2bf6622ba32b","created_at":"2021-04-07T12:09:18.205Z","updated_at":"2021-04-07T12:09:18.205Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Sitemap Visualizer","config":{},"type":"dashboard","enable":true,"default_width":"half","srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sitemap Visualizer</title>\n    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\">\n    <link href=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.0/dist/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css\">\n    <style media=\"all\">\nbody{background:#f8f8f8}#import-button{margin-top:7px}#process-queue-list{margin-top:20px;overflow-y:scroll;height:265px}#menu-container{display:none}#output-container{display:none}#export-container{margin-bottom:10px}.cs-form-group{display:flex;margin-bottom:5px}.cs-form-group .field-label{margin:8px 9px 0 0;font-size:14px}.cs-text-box{width:70px;margin-right:5px}input#product-count{border-color:#f8f8f8;font-weight:bolder;color:#52636f;background-color:#f8f8f8;width:45px;text-overflow:ellipsis}.loader{margin:0 auto;border:5px solid #f3f3f3;border-top:5px solid #3489db;border-radius:50%;width:45px;height:45px;animation:spin 1s linear infinite;margin-top:20%}.select-environment,.select-status{width:150px}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.container{max-width:94%}img{content:url(https://app.contentstack.com/static/images/edit-icon-ref1.svg)}.scroll-bar::-webkit-scrollbar{width:5px;background-color:transparent}.scroll-bar::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scroll-bar::-webkit-scrollbar-thumb{border-radius:6px;background-color:#dfe2e9;cursor:pointer}.icon-edit:hover{background-color:#ff0}\n</style>\n</head>\n\n<body class=\"scroll-bar\">\n    <div class=\"container\">\n        <div class=\"loader\"></div>\n        <div id=\"sitemap-container\">\n            <div id=\"sitemap-tree\">\n            </div>\n        </div>\n\n    </div>\n    <script src=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.0/dist/ui-extension-sdk.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js\"></script>\n    <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.8.7/polyfill.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js\"></script>\n    <script>\n\"use strict\";function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,\"next\",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,\"throw\",e)}o(void 0)})}}var extensionField,spinner,menuContainer,exportButton,outputContainer,messagePane,clearButton,apiKey,treeObj={},stackUrl=$(\"#stack-url\"),data=[],jsTreeObject={};function refreshtree(){console.log(\"refresh\"),$(\"#html1\").jstree(!0).refresh()}function getStackEnv(){extensionField.stack.getEnvironments().then(function(e){e.environments.forEach(function(e){if(e.urls[0].url){var t=$(\"<option></option>\").attr(\"value\",e.urls[0].url).text(e.name);t.attr(\"selected\",\"selected\"),$(stackUrl).append(t)}})})}function generateQuery(){return queries.push(extensionField.stack.ContentType(contentType.uid).Entry.Query().environment(\"production\").find())}function getStackUrls(){return _getStackUrls.apply(this,arguments)}function _getStackUrls(){return(_getStackUrls=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,extensionField.stack.getContentTypes();case 4:return n=e.sent,n.content_types.forEach(function(e){e.options.is_page&&t.push(extensionField.stack.ContentType(e.uid).Entry.Query().environment(\"production\").find())}),e.next=9,Promise.all(t);case 9:r=e.sent,console.log(r),generateTreeObject(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0,\"Error\");case 17:case\"end\":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}function doesRootExists(e,t){var n=!1;return e.find(function(e){e.text===t&&(n=!0)}),n}function pushToChildren(){}function generateTreeObject(e){var r=[],o={text:\"/\",a_attr:{href:\"http://www.example.com/\"},children:[]};e.forEach(function(e){for(var t=e.entries,n=0;n<t.length;n++)2===(r=t[n].url.split(\"/\")).length&&\"\"===r[0]&&\"\"!==r[1]?o.children.push({text:r[1],children:[]}):3===r.length&&\"\"===r[0]&&\"\"!==r[1]&&(doesRootExists(o.children,r[1])||o.children.push({text:r[1],children:t.map(function(e){for(var t=e.url.split(\"/\"),n=0;n<=t.length;n++){if(2===n&&3===t.length)return{text:t[2],children:[]};if(3===n&&4===t.length)return{text:t[2],children:[{text:t[3],children:[]}]}}})}))}),$(\"#sitemap-tree\").jstree({core:{data:[o]}})}function createJSONObject(e){data=[],treeObj={};for(var t=[],n=0;n<e.length;n++)t.push(e[n].innerHTML.split(\"/\").splice(2));createObjectFromParam(treeObj,t),renderSitemapData(treeObj),$(\"#html1\").jstree({core:{data:data}}),$(\"#html1\").jstree().set_icon(\"demo3.contentstackdemos.com_anchor\",\"https://demo3.contentstackdemos.com/images/favicon.ico\"),load()}function createObjectFromParam(r,e){return e.forEach(function(n){\"\"===n[n.length-1]&&(n=[]),\"fr\"===n[1]?n[2]=\"\".concat(n[2],\"_fr\"):\"es\"===n[1]&&(n[2]=\"\".concat(n[2],\"_es\")),n.forEach(function(e,t){0===t&&void 0===r[e]?(r[e]={},2===n.length&&(r[n[0]][n[1]]={})):1===t&&void 0===r[n[0]][e]?(r[n[0]][e]={},3===n.length&&(r[n[0]][n[1]][n[2]]={})):1===t&&\"object\"===_typeof(r[n[0]][e])?3===n.length&&(r[n[0]][n[1]][n[2]]={}):2===t&&void 0===r[n[0]][n[1]][e]?(r[n[0]][n[1]][e]={},4===n.length&&(r[n[0]][n[1]][n[2]][n[3]]={})):2===t&&\"object\"===_typeof(r[n[0]][n[1]][e])&&4===n.length&&(r[n[0]][n[1]][n[2]][n[3]]={})})}),r}function processXmlFile(e){createJSONObject((new DOMParser).parseFromString(e,\"text/xml\").getElementsByTagName(\"loc\"))}function renderSitemapData(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"#\";for(var n in e)\"object\"===_typeof(e[n])&&null!==e[n]&&\"\"!==e[n]&&(\"es\"===t?data.push({id:n,parent:t,text:n.replace(\"_es\",\"\")}):\"fr\"===t?data.push({id:n,parent:t,text:n.replace(\"_fr\",\"\")}):\"#\"===t?data.push({id:n,parent:t,text:n,icon:\"https://demo3.contentstackdemos.com/images/favicon.ico\"}):data.push({id:n,parent:t,text:n}),renderSitemapData(e[n],n))}function readSitemapFile(){return _readSitemapFile.apply(this,arguments)}function _readSitemapFile(){return(_readSitemapFile=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return\"https://cors-anywhere.herokuapp.com/https://demo3-preview.contentstackdemos.com/sitemap.xml\",e.next=3,fetch(\"https://cors-anywhere.herokuapp.com/https://demo3-preview.contentstackdemos.com/sitemap.xml\");case 3:return t=e.sent,e.next=6,t.text();case 6:processXmlFile(e.sent);case 8:case\"end\":return e.stop()}},e)}))).apply(this,arguments)}function load(){clearButton.hide(),outputContainer.hide(),spinner.show(),messagePane.empty(),spinner.hide(),menuContainer.show()}function sendMessage(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"warning\",r=$('<span class=\"badge badge-pill badge-'.concat(n,'\">').concat(e,\"</span></br>\"));messagePane.append(r),!0===t&&setTimeout(function(){r.hide(1e3)},1e4)}$(\".select-status\").change(function(){\"All\"===$(this).children(\"option:selected\").val()?($(\".env-label\").hide(),$(\".select-environment\").hide()):($(\".env-label\").show(),$(\".select-environment\").show()),console.log($(this).children(\"option:selected\").val(),\"change\")}),$(\"#stack-url\").change(function(){readSitemapFile()}),$(\"#entry-link\").click(function(){console.log(this,\"this\")}),$(document).ready(function(){spinner=$(\".loader\"),menuContainer=$(\"#menu-container\"),outputContainer=$(\"#output-container\"),clearButton=$(\".clear-btn\"),messagePane=$(\"#message-pane\"),menuContainer.show(),spinner.hide(),ContentstackUIExtension.init().then(function(e){apiKey=(extensionField=e).stack.getData().api_key,getStackUrls()})});\n</script>\n</body>\n\n</html>\n"},"blt382b75640c81b83f":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt382b75640c81b83f","created_at":"2021-04-07T12:09:18.236Z","updated_at":"2021-04-07T12:09:18.236Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"CommerceTools","config":{"project_key":"demos-95","domain":"commercetools.co","client_id":"RKMpdrOTCTBBb5BU3RccWeol","client_secret":"Ug6E6CUH8AlO4gOyrG_XFz487UPzu838"},"type":"field","data_type":"json","multiple":false,"srcdoc":"<!doctype html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Commercetools Extension</title>\r\n  <style media=\"all\">\r\na,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font-weight:500;font-family:proximaNovaRegular,Arial,Helvetica,sans-serif;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::after,blockquote::before,q::after,q::before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}.wrapper{margin:0;padding:0;width:100%}.wrapper .container{width:100%;margin:0 auto;overflow:hidden}.wrapper .container .discription_box{width:100%;float:left}.discription_box ul{width:100%;float:left;display:block;padding-bottom:12px}.discription_box ul li img{width:100%;height:225px;position:relative}.discription_box ul li span.title{padding:10px 10px 3px;display:block;display:-webkit-box;max-width:400px;height:14px*1.4*2;font-size:13px;line-height:1.4;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.discription_box ul li p{display:block;display:-webkit-box;max-width:400px;height:12px*1.4*2;margin:0 auto;font-size:12px;line-height:1.4;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;padding:0 10px 3px;opacity:.7}.discription_box ul li a{position:relative;display:block}.discription_box .choose_video{cursor:pointer}.wrapper .container .list_section{width:100%;display:none;float:left}.wrapper .container .list_section form{padding-top:20px}.discription_box ul li{width:25.33%;float:left;display:block;margin-right:3%;border:1px solid #e6eced;-webkit-line-clamp:8;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;border-radius:2px;border-width:1px}.list_section ul{width:100%;float:left;display:block;padding-top:25px;padding-left:25px;padding-bottom:10px}.list_section ul li{width:25.33%;float:left;display:block;border:1px solid transparent;margin-bottom:19px;cursor:pointer;margin-right:3%;-webkit-line-clamp:8;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;border-radius:2px;border-width:1px}.list_section ul li a{position:relative;display:block}.list_section ul li img{width:100%;height:225px;position:relative}.discription_box ul li span.heading{padding:10px 10px 3px;display:block;display:-webkit-box;max-width:400px;height:14px*1.4*2;font-size:13px;line-height:1.4;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.list_section ul li span.heading{padding:10px 10px 3px;display:block;display:-webkit-box;max-width:400px;height:14px*1.4*2;font-size:13px;line-height:1.4;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.list_section ul li span.title{padding:10px 10px 3px;display:block;display:-webkit-box;max-width:400px;height:14px*1.4*2;font-size:13px;line-height:1.4;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.list_section ul li span.price{font-size:13px;line-height:20px;padding:0 10px 3px;display:block;opacity:.8}.discription_box ul li span.price{font-size:13px;line-height:20px;padding:0 10px 3px;display:block;opacity:.8}.list_section ul li p{display:block;display:-webkit-box;max-width:400px;height:12px*1.4*2;margin:0 auto;font-size:11px;line-height:1.4;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;padding:0 10px 0;opacity:.7}.list_section ul li:hover{box-shadow:0 0 5px #8ab4e0}@media (max-width:1200px){.list_section ul li{width:25.33%}}@media (max-width:762px){.list_section ul li{width:38.33%}::-webkit-scrollbar{width:0;background:0 0}}@media (max-width:640px){::-webkit-scrollbar{width:0;background:0 0}.list_section ul li{width:50.33%}}.file-action{cursor:pointer}.discription_box ul li .file-action{display:none}.discription_box ul li .fileimage{display:block;width:9%;height:auto;text-align:center;float:left}.discription_box ul li .fileimage img{width:100%;height:auto}.discription_box ul li .filename{display:block;float:left;color:#999;padding:2px 0 0 7px}.close_button{cursor:pointer}#loader{display:none}.load-more{width:100%;border:0;clear:both;font-size:14px;text-align:center;cursor:pointer;box-sizing:border-box;display:none;float:left}.load-more>div{border:1px solid #e6eced;background:#fff;color:#748590!important;white-space:normal;padding:6px 20px;cursor:pointer;font-weight:600;border-radius:2px;font-size:14px;line-height:1.42857143;text-align:center;text-decoration:none;display:block;margin:0 30px}.close{position:absolute;right:2px;top:5px;width:16px;height:16px;cursor:pointer;z-index:5;background-image:url(https://new-static.contentstack.io/images/top-search-bar-close-icon.svg);background-color:#8a2be200;background-repeat:no-repeat;text-align:right;border:0;display:none}.discription_box ul li:hover .close{display:block}.backimg,.overlay{transition:.3s all;border-radius:2px}.discription_box .bg{position:relative}.discription_box .bg .backimg{width:100%;margin-bottom:-6px}.discription_box .bg .overlay{position:absolute;top:.3px;right:.3px;left:.3px;bottom:.3px;width:100%;background:rgba(0,0,0,.5);color:#fff;opacity:0;z-index:6}.discription_box .bg:hover .backimg{-webkit-filter:blur(2px);filter:blur(2px)}.discription_box .bg:hover .overlay{opacity:1}.discription_box .bg:hover .close{-webkit-filter:brightness(150%)}.load-spinner>div>span{display:inline-block;margin-right:7px;background-image:url(https://images.contentstack.io/v3/assets/bltd1343376dfba54d2/blta0b4f830d61ba527/5b58019b4f5e9b551d22f4f9/loading.gif);background-size:100%;background-color:#8a2be200;background-repeat:no-repeat;width:15px;height:15px;background-position:0 0;line-height:20px;text-align:center;position:relative;top:2px}.bg{min-height:225px;max-height:225px}\r\n</style>\r\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.2/dist/ui-extension-sdk.css\">\r\n  <script src=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.2/dist/ui-extension-sdk.js\"></script>\r\n  <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.x-git.min.js\"></script>\r\n\r\n</head>\r\n\r\n<body>\r\n  <div id=\"loader\" class=\"reference-loading\">\r\n    <div class=\"loading-flash\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n  <div class=\"wrapper\">\r\n    <div class=\"container\">\r\n      <div class=\"discription_box\">\r\n        <ul>\r\n          <h3>No Product Selected</h3>\r\n        </ul>\r\n        <a class=\"btn cs-btn-success choose_video\">Choose Product</a>\r\n        <a class=\"btn cs-btn-success close_button\">Close</a>\r\n      </div>\r\n      <!-- list section start  here -->\r\n      <div class=\"list_section\">\r\n        <form action>\r\n          <input type=\"search\" class=\"cs-text-box w-100 searchInput\" placeholder=\"Search ...\">\r\n        </form>\r\n        <ul id=\"products\">\r\n        </ul>\r\n      </div>\r\n      <!-- list section start  here -->\r\n    </div>\r\n    <div class=\"load-more\">\r\n      <div>\r\n        <span></span>Load More</div>\r\n    </div>\r\n  </div>\r\n  <script>\r\n\"use strict\";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var extensionField,unorderedList,accessToken,productLength,request,initialList,type,offsetCount=0,currency_symbols={USD:\"$\",EUR:\"\",CRC:\"\",GBP:\"\",ILS:\"\",INR:\"\",JPY:\"\",KRW:\"\",NGN:\"\",PHP:\"\",PLN:\"z\",PYG:\"\",THB:\"\",UAH:\"\",VND:\"\"},Commercetools=function(){function i(e){var t=e.domain,n=e.project_key,r=e.client_id,a=e.client_secret;_classCallCheck(this,i),this.projectKey=n,this.domain=t,this.clientId=r,this.clientSecret=a}return _createClass(i,[{key:\"getAccessToken\",value:function(){var a;return request=this,new Promise(function(t,n){var e={Authorization:\"Basic \".concat(btoa(request.clientId+\":\"+request.clientSecret))},r=\"https://auth.\".concat(request.domain,\"/oauth/token?grant_type=client_credentials&scope=view_products:\").concat(request.projectKey);fetch(r,{method:\"POST\",headers:e}).then(function(e){return a=e.status,e.json()}).then(function(e){throw 200===a&&t(e),Error(\"Failed to fetch resource\")}).catch(function(e){n(e)})})}},{key:\"getProducts\",value:function(){var a,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:6,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return request=this,new Promise(function(t,n){var e={Authorization:\"Bearer \".concat(accessToken)},r=\"https://api.\".concat(request.domain,\"/\").concat(request.projectKey,\"/products?limit=\").concat(i,\"&offset=\").concat(o,\"&where=masterData%28published%3Dtrue%29&sort=lastModifiedAt\");fetch(r,{method:\"GET\",headers:e}).then(function(e){return a=e.status,e.json()}).then(function(e){throw 200===a&&t(e),Error(\"Failed to fetch resource\")}).catch(function(e){n(e)})})}},{key:\"getSelectedProduct\",value:function(e){var a;request=this;var i=e.id;return new Promise(function(t,n){var e={Authorization:\"Bearer \".concat(accessToken)},r=\"https://api.\".concat(request.domain,\"/\").concat(request.projectKey,\"/products/\").concat(i);fetch(r,{method:\"GET\",headers:e}).then(function(e){return a=e.status,e.json()}).then(function(e){throw 200===a&&t(e),Error(\"Failed to fetch resource\")}).catch(function(e){n(e)})})}},{key:\"search\",value:function(a){var i,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;request=this;var c=initialList.results[0].masterData.current.name?Object.keys(initialList.results[0].masterData.current.name)[0]:\"en\";return new Promise(function(t,n){var e={Authorization:\"Bearer \".concat(accessToken)},r=\"https://api.\".concat(request.domain,\"/\").concat(request.projectKey,\"/product-projections/search?limit=\").concat(o,\"&text.\").concat(c,\"=\").concat(a,\"&offset=\").concat(s,\"&where=masterData%28published%3Dtrue%29\");fetch(r,{method:\"GET\",headers:e}).then(function(e){return i=e.status,e.json()}).then(function(e){throw 200===i&&t(e),Error(\"Failed to fetch resource\")}).catch(function(e){n(e)})})}}]),i}();function domChangeListner(r){var e=$(\".list_section ul li\");$(\".list_section ul li a\").click(function(){}),e.click(function(){var e=$(this)[0].outerHTML,t=$(this).attr(\"id\"),n=r.results.find(function(e){return e.id.toString()===t});extensionField.field.setData(n).then(function(){$(\".discription_box ul\").html(e),$(\".list_section\").hide(),$(\".close_button\").hide(),$(\".choose_video\").show(),$(\".load-more\").hide()})}),$(\".discription_box ul\").on(\"click\",\"#close\",function(){extensionField.field.setData({}).then(function(){$(\".discription_box ul\").empty(),$(\".discription_box ul\").append(\"<h3>No Products Selected</h3>\")})})}function render(t){var n,r,a,i,o;\"true\"!==t.loadMore&&unorderedList.empty(),t.results.forEach(function(e){\"search\"!==t.type?(0<e.masterData.current.masterVariant.prices.length&&(o=void 0!==currency_symbols[e.masterData.current.masterVariant.prices[0].value.currencyCode]?currency_symbols[e.masterData.current.masterVariant.prices[0].value.currencyCode]:e.masterData.current.masterVariant.prices[0].value.currencyCode),n=0<e.masterData.current.masterVariant.prices.length?o+\" \"+parseInt(e.masterData.current.masterVariant.prices[0].value.centAmount,10)/100:\"not entered\",a=e.masterData.current.name?Object.values(e.masterData.current.name)[0]:\"Price not entered\",i=(i=e.masterData.current.description?Object.values(e.masterData.current.description)[0]:\"Description not entered\").replace(/<[^>]*>/g,\" \"),r=0<e.masterData.current.masterVariant.images.length?e.masterData.current.masterVariant.images[0]:{url:\"https://images.contentstack.io/v3/assets/blt1621f07af6b19829/blt536aba3fd6a36c44/5e3a88df8bb7876780f6259c/No_image_available.svg\"}):(0<e.masterVariant.prices.length&&(o=void 0!==currency_symbols[e.masterVariant.prices[0].value.currencyCode]?currency_symbols[e.masterVariant.prices[0].value.currencyCode]:e.masterVariant.prices[0].value.currencyCode),n=0<e.masterVariant.prices.length?o+\" \"+parseInt(e.masterVariant.prices[0].value.centAmount,10)/100:\"not entered\",a=e.name?Object.values(e.name)[0]:\"Price Not entered\",i=e.description?Object.values(e.description)[0]:\"Description Not entered\",r=0<e.masterVariant.images.length?e.masterVariant.images[0]:{url:\"https://images.contentstack.io/v3/assets/blt1621f07af6b19829/blt536aba3fd6a36c44/5e3a88df8bb7876780f6259c/No_image_available.svg\"},$(\".list_section .reference-loading\").remove()),unorderedList.append('<li style=\"height:330px;\" id=\"'.concat(e.id,'\">\\n    <div class=\"bg\">\\n    <div class=\"overlay\">\\n      <div class=\"close\" id=\"close\">\\n       </div>\\n    </div>\\n   <img class=\"backimg\" src=').concat(r.url,' alt=\"product-image\" height=\"190\" width=\"130\">\\n     </img>\\n   </div>\\n   <span class=\"heading\" title=\"').concat(a,'\"> ').concat(a,' </span>\\n   <span class=\"price\">Price: ').concat(n,'</span>\\n   <p title = \"').concat(i,'\">').concat(i,\"</p></li>\\n     \"))}),$(\".list_section ul li\").length===productLength||\"initial\"===t.type?$(\".load-more\").hide():($(\".load-more\").show(),$(\".load-more\").removeClass(\"load-spinner\")),$(\"#loader\").hide(),$(\".discription_box\").show(),domChangeListner(t)}function loadMore(){$(\".load-more\").addClass(\"load-spinner\"),offsetCount+=6,\"search\"!==type?request.getProducts(6,offsetCount).then(function(e){e.type=\"loadmore\",e.loadMore=\"true\",render(e)}):request.search($(\".searchInput\").val(),6,offsetCount).then(function(e){e.type=\"search\",e.loadMore=\"true\",render(e)})}function loadInitialValue(){var t,n,r,a,i,e=extensionField.field.getData();0!==Object.keys(e).length&&request.getSelectedProduct(e).then(function(e){0<e.masterData.current.masterVariant.prices.length&&(i=\"USD\"===e.masterData.current.masterVariant.prices[0].value.currencyCode?\"$\":\"\"),t=0<e.masterData.current.masterVariant.prices.length?i+\" \"+parseInt(e.masterData.current.masterVariant.prices[0].value.centAmount,10)/100:\"not entered\",n=e.masterData.current.name?Object.values(e.masterData.current.name)[0]:\"Price not entered\",r=(r=e.masterData.current.description?Object.values(e.masterData.current.description)[0]:\"Description not entered\").replace(/<[^>]*>/g,\" \"),a=0<e.masterData.current.masterVariant.images.length?e.masterData.current.masterVariant.images[0]:{url:\"https://images.contentstack.io/v3/assets/blt1621f07af6b19829/blt536aba3fd6a36c44/5e3a88df8bb7876780f6259c/No_image_available.svg\"},$(\".discription_box ul\").empty(),$(\".discription_box ul\").append('<li style=\"height:330px;\" id=\"'.concat(e.id,'\">\\n      <div class=\"bg\">\\n        <div class=\"overlay\">\\n          <div class=\"close\" id=\"close\">\\n           </div>\\n        </div>\\n       <img class=\"backimg\" src=').concat(a.url,' alt=\"product-image\" height=\"190\" width=\"130\">\\n         </img>\\n       </div>\\n       <span class=\"title\" title=\"').concat(n,'\"> ').concat(n,'</span>\\n       <span class=\"price\">Price: ').concat(t,'</span>\\n       <p title = \"').concat(r,'\">').concat(r,\"</p></li>\\n     \")),$(\".discription_box\").show()})}$(\".close_button\").click(function(){$(\".list_section\").hide(),$(\".close_button\").hide(),$(\".choose_video\").show(),$(\".load-more\").hide()}),$(\".choose_video\").click(function(){$(\".list_section\").show(),$(\".close_button\").show(),$(\".choose_video\").hide(),productLength===$(\".list_section ul li\").length?$(\".load-more\").hide():$(\".load-more\").show()}),$(\".load-more\").click(function(){loadMore()}),$(document).ready(function(){$(\"#loader\").show(),$(\".close_button\").hide(),$(\".load-more\").hide(),unorderedList=$(\".list_section ul\"),$(\".discription_box\").hide(),ContentstackUIExtension.init().then(function(e){(extensionField=e).window.updateHeight(),(request=new Commercetools(e.config)).getAccessToken().then(function(e){accessToken=e.access_token,loadInitialValue(),request.getProducts().then(function(e){(initialList=e).type=\"initial\",type=\"initial\",productLength=e.total,render(e)})}),$(\".searchInput\").on(\"keypress\",function(e){var t=$(this).val();offsetCount=0,13===e.keyCode&&t&&($(\".reference-loading\").clone().appendTo(\".list_section\"),$(\".list_section .reference-loading\").width(\"100%\"),$(\".list_section .reference-loading\").css(\"margin\",\"7px 0 7px 0\"),$(\".list_section .reference-loading\").css(\"text-align\",\"center\"),$(\".list_section .reference-loading\").show(),e.preventDefault(),request.search(t,6,offsetCount).then(function(e){return 0===e.results.length?(unorderedList.empty(),$(\".load-more\").hide(),$(\".list_section .reference-loading\").hide(),unorderedList.append('<li><span class=\"title\">No Products Found</span></li>')):(productLength=e.total,e.type=\"search\",type=\"search\",unorderedList.empty(),render(e))}))}),$(\".searchInput\").on(\"input\",function(){\"\"===this.value&&(offsetCount=0,productLength=initialList.total,render(initialList),type=\"initial\",productLength===$(\".list_section ul li\").length?$(\".load-more\").hide():$(\".load-more\").show()),$(\".load-spinner\").hide()}),$(\".searchInput\").on(\"keyup\",function(){var e=$(this).val();offsetCount=0,e||(productLength=initialList.total,render(initialList),type=\"initial\",productLength===$(\".list_section ul li\").length?$(\".load-more\").hide():$(\".load-more\").show()),$(\".load-spinner\").hide()}),extensionField.window.enableAutoResizing()})});\r\n</script>\r\n</body>\r\n\r\n</html>"},"blt39ca0ee91c5e335c":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt39ca0ee91c5e335c","created_at":"2021-04-07T12:09:18.284Z","updated_at":"2021-04-07T12:09:18.284Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Broken Link Checker Dashboard","config":{},"type":"dashboard","enable":true,"default_width":"half","srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Broken Link Checker</title>\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css\">\n    <link href=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.0/dist/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n    <style media=\"all\">\n.selected-url{display:inline-block}.messages-label{display:block}.search-warning-label{color:red}.replace-warning-label{color:red}#product-count{display:inline-block}.cs-form-group .field-label{margin:8px 9px 0 0;font-size:14px}.cs-text-box{width:235px;margin-right:5px}.table-header{font-weight:700;background-color:#edf1f2!important;display:block}input#product-count{border-color:#f8f8f8;font-weight:bolder;color:#52636f;background-color:#f8f8f8;width:45px;text-overflow:ellipsis}.loader{margin:0 auto;border:5px solid #f3f3f3;border-top:5px solid #3489db;border-radius:50%;width:45px;height:45px;animation:spin 1s linear infinite;margin-top:20%}.not-active{pointer-events:none;cursor:default;text-decoration:none;color:#000}button>span{display:none;margin-right:7px;background:url(https://images.contentstack.io/v3/assets/bltd1343376dfba54d2/blta0b4f830d61ba527/5b58019b4f5e9b551d22f4f9/loading.gif) no-repeat;background-size:100%;width:15px;height:15px;background-position:0 0;line-height:20px;text-align:center;position:relative;top:2px}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.container{margin:0 3%}.badge-info{color:#fff;background-color:#17a2b8}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}table{width:-webkit-fill-available;border:1px;margin-top:20px}#header{height:50px!important}.header{height:30px}.scroll-bar::-webkit-scrollbar{width:5px;background-color:transparent}.scroll-bar::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scroll-bar::-webkit-scrollbar-thumb{border-radius:6px;background-color:#dfe2e9;cursor:pointer}.badge:empty{display:none}.badge-danger{color:#fff;background-color:#dc3545}.float-right{float:right;margin-bottom:5px}.edit-entry{float:right}.edit-entry img{content:url(https://app.contentstack.com/static/images/edit-icon-ref1.svg)}.cs-table .cs-table-body .table-loader{margin:0 auto;border:3px solid #f3f3f3;border-top:5px solid #3489db;border-radius:75%;width:45px!important;height:45px!important;animation:spin 1s linear infinite}.cs-table .cs-table-body .table-row div{text-overflow:ellipsis;white-space:nowrap;width:-webkit-fill-available;overflow:hidden;max-width:25%}#count-button{margin-top:10px;display:block}#no-url-found{text-align:center;max-width:100%}\n</style>\n\n</head>\n\n<body class=\"scroll-bar\">\n    <div class=\"container\">\n        <div class=\"loader\"></div>\n        <div id=\"message-pane\"></div>\n        <div class=\"form-container\">\n            <div class=\"cs-form-group\">\n                <label class=\"field-label\">Locale: </label>\n                <select class=\"cs-text-box locale-select\"></select> <label class=\"selected-url\"></label>                \n                <label class=\"message-label\"></label>\n                <button id=\"count-button\" onclick=\"checkForBrokenLinks()\" class=\"btn cs-btn-circle\">Check For Broken Links<span></span></button>\n            </div>\n        </div>\n        <div id=\"output-container\">\n            <div class=\"sticky-top\">\n                <span id=\"failed-counter\" class=\"badge badge-danger\">Invalid URls: 0</span>\n                <button id=\"clear-btn\" type=\"button\" onclick=\"reset()\" class=\"btn cs-btn-circle float-right\">Clear</button>\n            </div>\n            <div class=\"cs-table clearfix\">\n                    <ul class=\"cs-table-head\">\n                        <li class=\"table-row\">\n                            <div class=\"table-cell w-25\">Title</div>\n                            <div class=\"table-cell w-25\">URL</div>\n                            <div class=\"table-cell w-25\">Field UID</div>\n                            <div class=\"table-cell w-25\">Content-Type</div>\n                        </li>\n                    </ul>\n                    <ul class=\"cs-table-body\">\n                        <li class=\"table-row loader-div\">\n                            <div class=\"table-cell w-100 table-loader\"></div>\n                        </li>\n                    </ul>\n                    <div class=\"cs-table-bottom-bar\">\n                    </div>\n                \n            </div>\n        </div>\n    </div>\n    <script src=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.0/dist/ui-extension-sdk.js\"></script>\n\n    <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.min.js\"></script>\n    <script>\n\"use strict\";function _typeof(t){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}var extensionField,spinner,formContainer,apiKey,currentEntryUid,currentContentTypeUid,currentEntryTitle,contentTypeUIDs=[],queries=[],invalidUrlCount=0,fetchPromises=[],ignoreFields=[\"title\",\"tags\",\"locale\",\"_version\",\"ACL\",\"uid\",\"created_by\",\"updated_by\",\"created_at\",\"updated_at\",\"_in_progress\",\"content_type\",\"filename\",\"lastModifiedAt\",\"createdAt\",\"product_link\",\"url\",\"profile_picture\"],clearButton=$(\"#clear-btn\"),table=$(\".cs-table-body\"),localeOptions=$(\".locale-select\"),outputContainer=$(\"#output-container\"),messagePane=$(\"#message-pane\");function extractUrlsFromField(t){var e=t.replace(/[\\s\\[\\]<>\"']/g,\"\\0$1\\0\").replace(/([?;:,.!]+)(?=(\\0|$|\\s))/g,\"\\0$1\\0\").split(\"\\0\"),n=[];return e.forEach(function(t){if(t){return/(ftp: \\/\\/|www\\.|https?:\\/\\/){1}[a-zA-Z0-9u00a1-ffff0-]{2,}\\.[a-zA-Z0-9u00a1-ffff0-]{2,}(\\S*)/g.test(t)?n.push(t):void 0}}),n}function filter(t){return!ignoreFields.includes(t)}function failedEntry(t,e,n,o,i,r){table.prepend('<li class=\"table-row temp\">\\n        <div title='.concat(t,' class=\"table-cell w-25\"><span class=\"edit-entry\"><a href=\"https://app.contentstack.com/#!/stack/').concat(apiKey,\"/content-type/\").concat(n,\"/\").concat(i,\"/entry/\").concat(o,'/edit\" target=\"_blank\"><img class=\"icon-edit\"></img></a></span>').concat(t,\"</div>\\n        <div title=\").concat(e,' class=\"table-cell w-25\"><span class=\"edit-entry\"><a href=').concat(e,' target=\"_blank\"><img class=\"icon-edit\"></img></a></span>').concat(e,\"</div>\\n        <div title=\").concat(r,' class=\"table-cell w-25\">').concat(r,\"</div>\\n        <div title=\").concat(n,' class=\"table-cell w-25\">').concat(n,\"</div>\\n    </li>\")),invalidUrlCount++,$(\"#failed-counter\").html(\"Invalid URls: \".concat(invalidUrlCount))}function showZeroValidUrlMsg(){table.prepend('<li class=\"table-row\"><div id=\"no-url-found\" class=\"table-cell w-100\">NO INVALID URL\\'S FOUND FOR SELECTED LOCALE</div></li>'),$(\"#failed-counter\").html(\"Invalid URls: \".concat(invalidUrlCount))}function makeFetchCall(e){return new Promise(function(n,t){fetch(\"https://cors-anywhere.herokuapp.com/\".concat(e)).then(function(t){return{code:t.status,body:t.text()}}).then(function(e){e.body.then(function(t){200!==e.code||t.includes(\"404. Page Not Found\")?n(!1):n(!0)})}).catch(function(t){console.log(t,\"Error\"),n(!1)})})}function sendMessage(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=$('<span class=\"badge badge-pill badge-'.concat(2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"warning\",'\">').concat(t,\"</span></br>\"));messagePane.append(n),!0===e&&setTimeout(function(){n.hide(1e3)},1e4)}function iterateEntryFields(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var o=_slicedToArray(n[e],2),i=o[0],r=o[1];if(filter(i))if(\"string\"==typeof r&&\"\"!==r){var a=extractUrlsFromField(r);a.length&&fetchPromises.push({field_uid:i,entry_title:currentEntryTitle,urls:a,entry_uid:currentEntryUid,contenttype_uid:currentContentTypeUid})}else\"object\"===_typeof(r)&&null!==r&&(Array.isArray(r)?r.map(function(t){return iterateEntryFields(t)}):iterateEntryFields(r))}}function makeUrlsToValidate(t){var o=[],i=localeOptions.children(\"option:selected\").val();return t.map(function(t,e){currentContentTypeUid=t.content_type,spinner.hide(),outputContainer.show(),t.entries.map(function(t,e){currentEntryUid=t.uid,currentEntryTitle=t.title,iterateEntryFields(t)})}),fetchPromises.map(function(n){n.urls.map(function(e){o.push(makeFetchCall(e).then(function(t){t||failedEntry(n.entry_title,e,n.contenttype_uid,n.entry_uid,i,n.field_uid)}).catch(function(t){console.log(t,\"errors\"),failedEntry(n.entry_title,e,n.contenttype_uid,n.entry_uid,i,n.field_uid)}))})}),Promise.all(o).then(function(){sendMessage(\"Found \".concat(invalidUrlCount,\" invalid URL's for \").concat(i),!1,\"info\"),$(\".loader-div\").hide(),invalidUrlCount||showZeroValidUrlMsg(),clearButton.show()})}function checkForBrokenLinks(){spinner.show(),formContainer.hide(),extensionField.stack.getContentTypes().then(function(t){t.content_types.forEach(function(t){contentTypeUIDs.push(t.uid),queries.push(extensionField.stack.ContentType(t.uid).Entry.Query().language(localeOptions.children(\"option:selected\").val()).find())}),Promise.all(queries).then(function(t){t.forEach(function(t,e){t.content_type=contentTypeUIDs[e]}),makeUrlsToValidate(t)})}).catch(function(t){console.log(t,\"Error\"),formContainer.show(),spinner.hide()})}function reset(){contentTypeUIDs=[],queries=[],invalidUrlCount=0,fetchPromises=[],outputContainer.hide(),invalidUrlCount=0,formContainer.show(),messagePane.hide(),$(\".cs-table-body .temp\").remove()}function load(){getLocales()}function getLocales(){extensionField.stack.getLocales().then(function(t){return t.locales.forEach(function(t){var e=t.code;appendToOptions(t.name,e,localeOptions),spinner.hide(),formContainer.show()})})}function appendToOptions(t,e,n){var o=$(\"<option></option>\").attr(\"value\",e).text(t);o.attr(\"selected\",\"selected\"),n.append(o)}function appendOptions(t){selectField.append(new Option(t,t))}$(document).ready(function(){spinner=$(\".loader\"),formContainer=$(\".form-container\"),outputContainer.hide(),spinner.show(),formContainer.hide(),ContentstackUIExtension.init().then(function(t){apiKey=t.stack.getData().api_key,extensionField=t,load(),extensionField.window.enableAutoResizing()})});\n</script>\n</body>\n\n</html>"},"blt182f00d06fd3c0e3":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt182f00d06fd3c0e3","created_at":"2021-04-07T12:09:18.311Z","updated_at":"2021-04-07T12:09:18.311Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Monkeylearn AI - Text Intelligence","config":{"token":"5bf98f59556744c9aa2c36dce7d5680204c73da4"},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!DOCTYPE html>\n<html>\n\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\n  <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\n  <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.min.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n  <style media=\"all\">\n.field-label{color:#4f6471;font-size:15px!important}.form-control{color:#748590;height:35px!important;max-width:255px!important}.container{padding-top:15px}.thumbnail{width:100%;height:100%}.select2-results__option{width:20%;float:left}img.img-thumbnail{max-height:126px}#run-btn{width:103px;margin-top:5px;margin-bottom:20px}#run-btn img{vertical-align:sub;margin-right:10px}#run-btn[disabled]{width:160px}.cs-form-group{margin-bottom:35px}label{font-weight:400;font-size:14px;color:#4F6470}.badge-info{background:#F0F9FE;border-radius:3px;font-size:14px;color:#6C7982;border:1px solid #C9DDE2;white-space:normal}.count-value,.keys{font-size:14px;color:#748490}.keys{width:42%;margin-bottom:10px;display:inline-block}.list-group-item{background-color:#fff;border:none;padding-left:0}.result-li{border-bottom:1px solid rgba(0,0,0,.125)}#result-container{max-height:360px;overflow:auto;padding-bottom:25px}body{max-height:600px;overflow:auto}.result-wrapper{border-bottom:2px solid rgba(0,0,0,.125)}#result-container::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}#result-container::-webkit-scrollbar{width:5px;background-color:transparent}#result-container::-webkit-scrollbar-thumb{border-radius:6px;background-color:#dfe2e9;cursor:pointer}.alert-danger{display:block;font-size:12px;color:#F77D7A;text-align:left;padding-top:0;padding-left:0;margin-top:-10px;background-color:transparent;border:0}\n</style>\n  <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\" integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.js\"></script>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"cs-form-group\">\n      <label for=\"models\" class=\"field-label\">Select Model</label>\n      <select class=\"form-control\" id=\"models\"></select>\n    </div>\n    <div class=\"cs-form-group\">\n      <label for=\"field\" class=\"field-label\">Field</label>\n      <select class=\"form-control\" id=\"field\"></select>\n    </div>\n    <button type=\"submit\" id=\"run-btn\" class=\"btn cs-btn-primary\"><img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\">Run</button>\n  </div>\n  <div class=\"container\" id=\"result-container\">\n    <ul class=\"list-group\" id=\"result-list\">\n    </ul>\n  </div>\n  <script>\n\"use strict\";var _models;function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var models=(_defineProperty(_models={retail_classifer:{name:\"Retail Classifier\",path:\"/v3/classifiers/cl_mmYLCZUN/classify/\",type:\"classifications\"},business_classifier:{name:\"Business Classifier\",path:\"/v3/classifiers/cl_5vWJMjGc/classify/\",type:\"classifications\"},profanity_and_abuse_detection:{name:\"Profanity & Abuse Detection\",path:\"/v3/classifiers/cl_KFXhoTdt/classify/\",type:\"classifications\"},language_classifier:{name:\"Language Classifier\",path:\"/v3/classifiers/cl_v2GCwYhf/classify/\",type:\"classifications\"},news_classifier:{name:\"News Classifier\",path:\"/v3/classifiers/cl_WDyr2Q4F/classify/\",type:\"classifications\"},sentiment_analysis:{name:\"Sentiment Analysis\",path:\"/v3/classifiers/cl_Jx8qzYJh/classify/\",type:\"classifications\"}},\"sentiment_analysis\",{name:\"Sentiment Analysis\",path:\"/v3/classifiers/cl_Jx8qzYJh/classify/\",type:\"classifications\"}),_defineProperty(_models,\"product_sentiment\",{name:\"Product Sentiment\",path:\"/v3/classifiers/cl_TWmMTdgQ/classify/\",type:\"classifications\"}),_defineProperty(_models,\"nps_saas_topic\",{name:\"NPS SaaS Feedback Classifier\",path:\"/v3/classifiers/cl_gYDZjEnS/classify/\",type:\"classifications\"}),_defineProperty(_models,\"outbound_sales_classifier\",{name:\"Outbound Sales Classifier\",path:\"/v3/classifiers/cl_zSDSt8QP/classify/\",type:\"classifications\"}),_defineProperty(_models,\"commerce_cs_classifier\",{name:\"E-Commerce Customer Support Classifier\",path:\"/v3/classifiers/cl_GhPhiVYE/classify/\",type:\"classifications\"}),_defineProperty(_models,\"keyword_extraction\",{name:\"Keyword Extraction\",path:\"/v3/extractors/ex_y7BPYzNG/extract/\",type:\"extractions\"}),_defineProperty(_models,\"summarizer\",{name:\"Summarizer\",path:\"/v3/extractors/ex_94WD2XxD/extract/\",type:\"extractions\"}),_defineProperty(_models,\"insight_extraction\",{name:\"Insight Extraction\",path:\"/v3/extractors/ex_EjosnyKK/extract/\",type:\"extractions\"}),_defineProperty(_models,\"person_extraction\",{name:\"Person Extraction\",path:\"/v3/extractors/ex_SmwSdZ3C/extract/\",type:\"extractions\"}),_defineProperty(_models,\"location_extraction\",{name:\"Location Extraction\",path:\"/v3/extractors/ex_vqBQ7V9B/extract/\",type:\"extractions\"}),_defineProperty(_models,\"company_extraction\",{name:\"Company Extraction\",path:\"/v3/extractors/ex_A9nCcXfn/extract/\",type:\"extractions\"}),_defineProperty(_models,\"date_time_extraction\",{name:\"Date Time Extraction\",path:\"/v3/extractors/ex_LPxHGwJT/extract/\",type:\"extractions\"}),_defineProperty(_models,\"price_extraction\",{name:\"Price Extraction\",path:\"/v3/extractors/ex_wNDME4vE/extract/\",type:\"extractions\"}),_defineProperty(_models,\"url_extraction\",{name:\"URL Extraction\",path:\"/v3/extractors/ex_owGiMc4z/extract/\",type:\"extractions\"}),_defineProperty(_models,\"email_extraction\",{name:\"Email Address Extraction\",path:\"/v3/extractors/ex_YWBmKCP9/extract/\",type:\"extractions\"}),_defineProperty(_models,\"email_cleaner\",{name:\"Email Cleaner\",path:\"/v3/extractors/ex_BXqiifAi/extract/\",type:\"extractions\"}),_defineProperty(_models,\"phone_number_extraction\",{name:\"Phone Number Extraction\",path:\"/v3/extractors/ex_ktEPNd9V/extract/\",type:\"extractions\"}),_models),fieldPaths=[];function renderModelSelectField(){$.each(models,function(e,t){$(\"#models\").append($(\"<option></option>\").attr(\"value\",e).text(t.name))})}function renderFieldSelectField(e){var a=$(\"#field\").val();$(\"#field\").empty(),(fieldPaths=getPaths(e.entry.content_type,e.entry.getData())).forEach(function(e){var t=$(\"<option></option>\").attr(\"value\",e.uid).text(e.titlePaths.join(\" > \"));a===e.uid&&t.attr(\"selected\",\"selected\"),$(\"#field\").append(t)})}function getPaths(e,t){var s=[];return function l(e,a,t,d){var p=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],n=t?t.split(\".\"):[];e.forEach(function(r,e){var o=[].concat(_toConsumableArray(n),[r.uid]),c=o.join(\".\");if(a&&void 0!==a[r.uid]){if(\"text\"===r.data_type)if(!1===r.multiple){var t=d||c;s.push({uid:c,path:o,value:a[r.uid],setuid:t,titlePaths:[].concat(_toConsumableArray(p),[r.display_name])})}else 0<a[r.uid].length&&a[r.uid].forEach(function(e,t){var a=[].concat(_toConsumableArray(o),[t]),n=(a.join(\".\"),d||c);s.push({uid:a.join(\".\"),path:a,value:e,setuid:n,titlePaths:[].concat(_toConsumableArray(p),[r.display_name,t])})});\"group\"===r.data_type&&(!1===r.multiple?l(r.schema,a[r.uid],c,d,[].concat(_toConsumableArray(p),[r.display_name])):0<a[r.uid].length&&a[r.uid].forEach(function(e,t){var a=[].concat(_toConsumableArray(o),[t]);l(r.schema,e,a.join(\".\"),d,[].concat(_toConsumableArray(p),[r.display_name,t]))})),\"blocks\"===r.data_type&&0<a[r.uid].length&&a[r.uid].forEach(function(e,t){var a=[].concat(_toConsumableArray(o),[t]),n=Object.keys(e)[0],s=r.blocks.find(function(e){return e.uid===n}).schema,i=e[n];d=c,l(s,i,a.join(\".\"),d,[].concat(_toConsumableArray(p),[r.display_name,t]))})}})}(e.schema,t),s}function domChangeListner(e){e.entry.onSave(function(){return renderFieldSelectField(e)}),$(\"#run-btn\").on(\"click\",function(){var t=$(\"#models\").val();$(\"#run-btn\").prop(\"disabled\",!0),$(\"#run-btn\").html(\"Working on it...\"),$(\"#result-container\").html(\"\"),runAnalysis(t,fieldPaths.find(function(e){return e.uid===$(\"#field\").val()}).value,e.config.token).then(function(e){$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Run'),renderResult(e,models[t])}).catch(function(e){console.log(e),$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Run'),$(\"#result-container\").append('<div class=\"alert alert-danger\" role=\"alert\">'+e.message+\"</div>\")})})}function runAnalysis(n,e,s){var i=void 0;return new Promise(function(t,a){fetch(\"https://api.monkeylearn.com\"+models[n].path,{method:\"POST\",body:JSON.stringify({data:[e]}),headers:{Authorization:\"Token \"+s,\"Content-Type\":\"application/json\"}}).then(function(e){return e.headers.get(\"X-Query-Limit-Remaining\")&&$(\"#result-container\").append(\"<label>Result:</label>\"),i=e.status,e.json()}).then(function(e){throw 200===i&&t(e[0]),Error(\"Failed to run \"+models[n].name+\": \"+e.detail)}).catch(function(e){a(e)})})}function renderResult(e,t){if($(\"#result-container\").append('<ul class=\"list-group\" id=\"result-list\"></ul>'),e&&0!==e[t.type].length||$(\"#result-list\").append('<li class=\"list-group-item result-li\">No Results</li>'),\"classifications\"===t.type)return e[t.type].forEach(function(e,t){var a=\"<li class='list-group-item'><div><span class='keys'>Tag : </span><span class='badge badge-info'>\"+e.tag_name+\"</span> </br> <span class='keys'> Confidence:</span> <span class='count-value'>\"+(100*e.confidence).toFixed(2)+\"% </span></div></li>\";$(\"#result-list\").append(a)});\"extractions\"===t.type&&e[t.type].forEach(function(e,t){var a=\"<li class='list-group-item'><div class='result-wrapper'><span class='keys'>\"+e.tag_name+\" :</span> <span class='badge badge-info'>\";a+=e.parsed_value+\"</span> \",e.relevance&&(a+=\"</br><span class='keys'> Relevance :</span>\"+(100*e.relevance).toFixed(2)+\"%</span> \"),e.count&&(a+=\"</br><span class='keys'> Count :</span>\"+e.count+\"</span> \"),a+=\"</div></li>\",$(\"#result-list\").append(a)})}$(document).ready(function(){ContentstackUIExtension.init().then(function(e){e.window.enableAutoResizing(),renderModelSelectField(),renderFieldSelectField(e),domChangeListner(e)})});\n</script>\n</body>\n</html>"},"blt899cfd0ed7da6389":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt899cfd0ed7da6389","created_at":"2021-04-07T12:09:18.341Z","updated_at":"2021-04-07T12:09:18.341Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Bynder","config":{"widgetUrl":"https://assets.contentstack.io/v3/assets/blt1c3ed3f529f987cd/blt43876a63b26095be/5ebb1c28f7d1ee4c034c972b/bynder-widget.html","defaultDomain":"https://contentstackintegration.getbynder.com/"},"type":"field","data_type":"json","multiple":false,"srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <title>External API UI Extension Sample</title>\n  <script src=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.2/dist/ui-extension-sdk.js\"></script>\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.1.2/dist/ui-extension-sdk.css\" media=\"all\">\n  <style media=\"all\">\na,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font-weight:500;font-family:'Whitney SSm A',Whitney SSm B,sans-serif,Arial;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::after,blockquote::before,q::after,q::before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}body{line-height:1;overflow:hidden}.wrapper{margin:0;padding:0;width:100%}.wrapper .container{width:1200px;margin:0 auto;overflow:hidden}.wrapper .container .asset_box{width:100%;float:left}.wrapper .container .asset_box .img-wrapper{position:relative}.wrapper .container .asset_box .img-wrapper p{position:absolute;bottom:4px;border-radius:4px;background-color:rgba(0,34,51,.3);color:#fff;font-size:12px;font-weight:600;line-height:22px;text-align:center;right:1px;padding:0 5px}.asset_box ul{width:55%;float:left;display:block;padding-bottom:0;overflow-y:scroll;height:270px}.asset_box ul li[id]{width:30%;float:left;display:block;margin-right:1.2%;border:1px solid transparent;padding:15px 5px 15px 0}.asset_box ul li img{width:100%;height:100px;position:relative}.asset_box ul li video{width:100%;height:100px;position:relative;background:#000}.asset_box ul li .icon{padding:32px 80px;background:#e0dddd}.asset_box span{font-size:16px;line-height:17px;display:block;color:#748590;position:absolute;bottom:0;left:0;top:35px}.asset_box .choose_asset{border:1px solid #25c2a3;border-radius:24px;font-size:14px;line-height:1.42857143;padding:5px 15px;display:inline-block;text-align:center;text-decoration:none;color:#25c2a3;cursor:pointer;position:absolute;margin:0 auto;bottom:20px;left:0}.wrapper .container .list_section{width:100%;display:none;float:left}.close{position:absolute;top:1px;right:1px;opacity:.3;display:block;box-sizing:border-box;width:20px;height:20px;border-width:3px;border-style:solid;border-color:#5a5a5a;border-radius:100%;background:-webkit-linear-gradient(-45deg,transparent 0,transparent 46%,#fff 46%,#fff 56%,transparent 56%,transparent 100%),-webkit-linear-gradient(45deg,transparent 0,transparent 46%,#fff 46%,#fff 56%,transparent 56%,transparent 100%);background-color:#777;box-shadow:0 0 5px 2px rgba(0,0,0,.5);transition:all .3s ease;z-index:9}.close:hover{opacity:1}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}::-webkit-scrollbar-thumb{border-radius:6px;background:#dfe2e9}\n</style>\n  <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.x-git.min.js\"></script>\n</head>\n\n<body>\n  <div class=\"wrapper\">\n    <div class=\"container\">\n      <div class=\"reference-loading\">\n        <div class=\"loading-flash\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n      <div class=\"asset_box\" style=\"display: none;\">\n        <ul></ul>\n        <span>No Asset Selected</span>\n        <div class=\"choose_asset\" id=\"open-btn\">Choose Assets</div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n\"use strict\";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var n=[],i=!0,a=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(i=(s=r.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var extensionField,initialValue,assets={},assetList=$(\".asset_box ul\"),loader=$(\".reference-loading\");function render(){var e=[];assetList.empty();for(var t=0,n=Object.entries(assets);t<n.length;t++){var i=_slicedToArray(n[t],2),a=(i[0],i[1]);e.push(a);var o=a.derivatives.webImage.split(\".\"),s=o[o.length-1];assetList.append('<li id=\"'.concat(a.name,'\">\\n        <section class=\"img-wrapper\"><a class=\"close\"/>\\n        <img src=\"').concat(a.derivatives.webImage,'\" alt=\"').concat(a.name,'\"/>\\n        <p>').concat(s.toUpperCase(),\"</p></section></li>\"))}0<Object.keys(assets).length?$(\".asset_box span\").hide():$(\".asset_box span\").show(),$(\".close\").click(function(){var e=$(this).parent().parent().attr(\"id\");delete assets[e],render()}),extensionField.field.setData(e)}function isEmpty(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function saveData(e){try{var t=JSON.parse(e.data);void 0!==t.data&&null!==t.data&&(t.data.forEach(function(e){assets[e.name]=e}),render())}catch(e){console.log(\"Error\",e)}}function openWidget(){var e=extensionField.config.widgetUrl+\"?defaultDomain=\"+extensionField.config.defaultDomain;window.open(e,\"popUpWindow\",\"height=500,width=1200,left=100,top=100,toolbar=no,menubar=no, status=no\"),window.addEventListener(\"message\",saveData,!1)}$(document).ready(function(){ContentstackUIExtension.init().then(function(e){extensionField=e,Object.assign(extensionField.config,extensionField.fieldConfig),loader.show(),$(\"#open-btn\").click(function(){openWidget()}),isEmpty(initialValue=extensionField&&extensionField.field&&extensionField.field.getData()?extensionField.field.getData():null)?setTimeout(function(){$(\".asset_box span\").show(),loader.hide(),$(\".asset_box\").show()},1e3):(setTimeout(function(){$(\".asset_box span\").hide(),loader.hide(),$(\".asset_box\").show()},1e3),initialValue.forEach(function(e){assets[e.name]=e}),render()),extensionField.window.updateHeight(335)})});\n</script>\n</body>\n\n</html>"},"bltc3475eeb12f48673":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/bltc3475eeb12f48673","created_at":"2021-04-07T12:09:18.367Z","updated_at":"2021-04-07T12:09:18.367Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"SEO","config":{},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!DOCTYPE html>\n<html>\n\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\n  <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\n  <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.min.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n  <style media=\"all\">\n.field-label{color:#4f6471;font-size:15px!important}.form-control{color:#748590;height:35px!important;max-width:255px!important}.container{padding-top:15px}.thumbnail{width:100%;height:100%}.select2-results__option{width:20%;float:left}img.img-thumbnail{max-height:126px}.cs-btn-primary{width:103px;margin-top:5px;margin-bottom:20px}.cs-btn-primary img{vertical-align:sub;margin-right:10px}.cs-btn-primary[disabled]{width:160px}.cs-form-group{margin-bottom:35px}#set-form-group{margin-bottom:16px}label{font-weight:400;font-size:14px;color:#4F6470}.badge-info{background:#F0F9FE;border-radius:3px;font-size:14px;color:#6C7982;border:1px solid #C9DDE2;white-space:normal}.count-value,.keys{color:#748490;font-size:14px}.keys{width:34%;margin-bottom:10px;display:inline-block}.list-group-item{background-color:#fff;border:none;padding-left:0}.result-li{font-size:14px}#result-container{max-height:360px;overflow:auto;padding-bottom:25px}body{max-height:600px;overflow:auto}.result-wrapper{border-bottom:2px solid rgba(0,0,0,.125)}#result-container::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}#result-container::-webkit-scrollbar{width:5px;background-color:transparent}#result-container::-webkit-scrollbar-thumb{border-radius:6px;background-color:#dfe2e9;cursor:pointer}.alert-danger{display:block;font-size:12px;color:#F77D7A;text-align:left;padding-top:0;padding-left:0;margin-top:-10px;background-color:transparent;border:0}\n</style>\n  <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\" integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.js\"></script>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"cs-form-group\">\n      <label for=\"field\" class=\"field-label\">Field</label>\n      <select class=\"form-control\" id=\"field\"></select>\n    </div>\n    <button type=\"submit\" id=\"run-btn\" class=\"btn cs-btn-primary\"><img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\">Extract Keywords</button>\n  </div>\n  <div class=\"container\" id=\"result-container\">\n    <ul class=\"list-group\" id=\"result-list\">\n    </ul>\n  </div>\n  <script>\n\"use strict\";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var models={keyword_extraction:{name:\"Keyword Extraction\",path:\"/v3/extractors/ex_y7BPYzNG/extract/\",type:\"extractions\"}},fieldPaths=[];function renderFieldSelectField(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"#field\",e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=$(n).val();$(n).empty(),(fieldPaths=getPaths(t.entry.content_type,t.entry.getData(),e,a)).forEach(function(t){var e=$(\"<option></option>\").attr(\"value\",t.uid).text(t.titlePaths.join(\" > \"));i===t.uid&&e.attr(\"selected\",\"selected\"),$(n).append(e)})}function getPaths(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=(!(3<arguments.length&&void 0!==arguments[3])||arguments[3],[]);return function d(t,n,e,c){var u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],a=e?e.split(\".\"):[];t.forEach(function(o,t){var l=[].concat(_toConsumableArray(a),[o.uid]),s=l.join(\".\");if(n&&void 0!==n[o.uid]){if(\"text\"===o.data_type)if(!1===o.multiple){var e=c||s;r.push({uid:s,path:l,value:n[o.uid],setuid:e,titlePaths:[].concat(_toConsumableArray(u),[o.display_name])})}else 0<n[o.uid].length&&!0===i&&n[o.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]),a=(n.join(\".\"),c||s);r.push({uid:n.join(\".\"),path:n,value:t,setuid:a,titlePaths:[].concat(_toConsumableArray(u),[o.display_name,e])})});\"group\"===o.data_type&&(!1===o.multiple?d(o.schema,n[o.uid],s,c,[].concat(_toConsumableArray(u),[o.display_name])):0<n[o.uid].length&&n[o.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]);d(o.schema,t,n.join(\".\"),c,[].concat(_toConsumableArray(u),[o.display_name,e]))})),\"blocks\"===o.data_type&&!0===i&&0<n[o.uid].length&&n[o.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]),a=Object.keys(t)[0],i=o.blocks.find(function(t){return t.uid===a}).schema,r=t[a];c=s,d(i,r,n.join(\".\"),c,[].concat(_toConsumableArray(u),[o.display_name,e]))})}})}(t.schema,e),r}function domChangeListner(n){n.entry.onSave(function(){return renderFieldSelectField(n)}),$(\"#run-btn\").on(\"click\",function(){var e=\"keyword_extraction\";$(\"#run-btn\").prop(\"disabled\",!0),$(\"#run-btn\").html(\"Working on it...\"),$(\"#result-container\").html(\"\"),runAnalysis(e,fieldPaths.find(function(t){return t.uid===$(\"#field\").val()}).value,n.config.token).then(function(t){$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Extract Keywords'),renderResult(t,models[e],n)}).catch(function(t){console.log(t),$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Extract Keywords'),$(\"#result-container\").append('<div class=\"alert alert-danger\" role=\"alert\">'+t.message+\"</div>\")})})}function runAnalysis(a,t,i){var r=void 0;return new Promise(function(e,n){fetch(\"https://api.monkeylearn.com\"+models[a].path,{method:\"POST\",body:JSON.stringify({data:[t]}),headers:{Authorization:\"Token \"+i,\"Content-Type\":\"application/json\"}}).then(function(t){return t.headers.get(\"X-Query-Limit-Remaining\")&&$(\"#result-container\").append(\"<label>Keywords:</label>\"),r=t.status,t.json()}).then(function(t){throw 200===r&&e(t[0]),Error(\"Failed to run \"+models[a].name+\": \"+t.detail)}).catch(function(t){n(t)})})}function renderResult(t,e,n){if($(\"#result-container\").append('<ul class=\"list-group\" id=\"result-list\"></ul>'),!t||0===t[e.type].length)return $(\"#result-list\").append('<li class=\"list-group-item result-li\">No Results</li>');var a=t[e.type].map(function(t){return t.parsed_value+\" \"});$(\"#result-list\").append('<li class=\"list-group-item result-li\">  <textarea id=\"edited-keywords\" style=\"height: 150px;width: 100%;border: 1px solid #d1dfe2;background: #fff;color: #748590!important;\">'+a.join(\",\")+\"</textarea></li>\"),$(\"#result-list\").append('<div id=\"set-form-group\" class=\"cs-form-group\"><label for=\"field\" class=\"field-label\">SEO Field</label><select class=\"form-control\" id=\"seo-field\"></select></div>'),renderFieldSelectField(n,\"#seo-field\",!1,!1),$(\"#result-list\").append('<button type=\"submit\" id=\"set-btn\" class=\"btn cs-btn-primary\"><img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\">Set Keywords</button>'),$(\"#set-btn\").on(\"click\",function(){var t=fieldPaths.find(function(t){return t.uid===$(\"#seo-field\").val()}).uid;n.entry.getField(t).setData($(\"#edited-keywords\").val())})}$(document).ready(function(){ContentstackUIExtension.init().then(function(t){t.window.enableAutoResizing(),renderFieldSelectField(t),domChangeListner(t)})});\n</script>\n</body>"},"bltedce593b370824f8":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/bltedce593b370824f8","created_at":"2021-04-07T12:09:18.392Z","updated_at":"2021-04-07T12:09:18.392Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Star Ratings","config":{},"type":"field","data_type":"number","multiple":false,"srcdoc":"<!DOCTYPE html>\n<html>\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n    <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.js\"></script>\n    <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\"></script>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css\"/>\n    <style>\n         body{\n           overflow:hidden;\n          }\n        #wrapper {\n            position: relative;\n        }\n        .user-rating {\n            direction: rtl;\n            font-size: 20px;\n            unicode-bidi: bidi-override;\n            padding: 9px 18px;\n            display: inline-block;\n        }\n        .user-rating input {\n            opacity: 0;\n            position: relative;\n            left: -15px;\n            z-index: 2;\n            cursor: pointer;\n        }\n        .user-rating span.star:before {\n            color: #777777;\n            content:\"\";\n            /*padding-right: 5px;*/\n        }\n        .user-rating span.star {\n            display: inline-block;\n            font-family: FontAwesome;\n            font-style: normal;\n            font-weight: normal;\n            position: relative;\n            z-index: 1;\n        }\n        .user-rating span {\n            margin-left: -15px;\n        }\n        .user-rating span.star:before {\n            color: #777777;\n            content:\"\\f006\";\n            /*padding-right: 5px;*/\n        }\n        .user-rating input:hover + span.star:before, .user-rating input:hover + span.star ~ span.star:before, .user-rating input:checked + span.star:before, .user-rating input:checked + span.star ~ span.star:before {\n            color: #ffd100;\n            content:\"\\f005\";\n        }\n    .selected-rating{\n        color: #ffd100;\n        font-weight: bold;\n        font-size: 3em;\n    }\n</style>\n\n</head>\n<body>\n<div id=\"wrapper\">\n    <form id=\"user-rating-form\" onchange=\"ratingChange()\" onclick=\"setFocus()\">\n        <span class=\"user-rating\">\n            <input type=\"radio\" name=\"rating\" value=\"5\"><span class=\"star\"></span>\n            <input type=\"radio\" name=\"rating\" value=\"4\"><span class=\"star\"></span>\n            <input type=\"radio\" name=\"rating\" value=\"3\"><span class=\"star\"></span>\n            <input type=\"radio\" name=\"rating\" value=\"2\"><span class=\"star\"></span>\n            <input type=\"radio\" name=\"rating\" value=\"1\"><span class=\"star\"></span>\n        </span>\n    </form>\n</div>\n<script>\n        // initialise Field Extension \n        var extensionField;\n        \n        // Initialize and set the default or saved value for extension\n        ContentstackUIExtension.init().then(function(extension) {\n            // make extension object globally available\n            extensionField = extension;\n            // Get current Rating value from Contentstack and update the Rating element\n            var initialValue = (extension && extension.field && extension.field.getData() && extension.field.getData() !== null) ? extension.field.getData() : 0;\n            $(\"input[name='rating'][value=\"+initialValue+\"]\").attr('checked', true);\n            extension.window.updateHeight();\n            ratingChange();\n        })\n        \n        // On Rating change event, pass new value to Contentstack\n          function ratingChange(){\n            var ratingval = parseInt($('[name=\"rating\"]:checked').val());\n            ratingval = (ratingval && ratingval !== null) ? ratingval : 0; \n            extensionField.field.setData(ratingval).then(function(){\n    \t    }).catch(function(error){\n    \t    })\n        }\n        \n        function setFocus(){\n            extensionField.field.setFocus();\n        }\n</script>\n</body>\n</html>"},"blt9122f14b6a57ca3e":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt9122f14b6a57ca3e","created_at":"2021-04-07T12:09:18.421Z","updated_at":"2021-04-07T12:09:18.421Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Marketo","config":{"url":"https://1a8axvz35h.execute-api.us-east-1.amazonaws.com/prod/marketo-forms-field","folder":"629"},"type":"field","data_type":"json","multiple":false,"srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Marketo</title>\n  <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n  <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n  <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.js\"></script>\n  <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.x-git.min.js\"></script>\n</head>\n\n<body>\n    <select class=\"form-control\" id=\"form-select-field\" style=\"display: none;\">\n          <option value=\"\">-- Select a form --</option>\n    </select>\n  <script>\n\"use strict\";var _createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var extensionField=void 0,selectField=void 0,marketo={};function domChangeListner(n){selectField.on(\"change\",function(){var t=$(\"#form-select-field\").val(),e=n.find(function(e){return e.id.toString()===t});extensionField.field.setData(e)})}function render(e){var t=extensionField&&extensionField.field&&extensionField.field.getData()?extensionField.field.getData():{},n=$(\"select option:contains('-- Select a form --')\"),i=t.id;e.forEach(function(e){var t=$(\"<option></option>\").attr(\"value\",e.id).text(e.name);e.id===i&&t.attr(\"selected\",\"selected\"),selectField.append(t)}),n.attr(\"disabled\",\"disabled\"),i||n.attr(\"selected\",\"selected\"),selectField.show(),domChangeListner(e)}var Marketo=function(){function i(e){var t=e.url,n=e.folder;_classCallCheck(this,i),this.url=t,this.folder=n}return _createClass(i,[{key:\"getForms\",value:function(){var i=this;return new Promise(function(t,n){var e=\"\"+i.url;return i.folder&&(e=e+\"?folder=\"+i.folder),fetch(e,{method:\"GET\"}).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){n(e)})})}}]),i}();$(document).ready(function(){selectField=$(\"#form-select-field\"),ContentstackUIExtension.init().then(function(e){(marketo=new Marketo((extensionField=e).config)).getForms().then(function(e){render(e)}),extensionField.window.enableAutoResizing()})});\n</script>\n</body>\n\n</html>"},"blt0073d2c043526134":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt0073d2c043526134","created_at":"2021-04-07T12:09:19.052Z","updated_at":"2021-04-07T12:09:19.052Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Marketo Widget","config":{"url":"https://9nwff1zg9e.execute-api.us-east-1.amazonaws.com/prod/marketo-widget-forms","x-api-key":"tUH3BxlmEx55nPjQJjXaF6GV4FkcFy588y4RqPS4"},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Marketo</title>\n  <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n  <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\">\n  <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.js\"></script>\n  <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.x-git.min.js\"></script>\n  <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.x-git.min.js\"></script>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js\"></script>\n</head>\n\n<body>\n  <div style=\"text-align: center;\">\n    <div style=\"margin-left: 0px ;margin-top:100px; margin-bottom:100px;\" class=\"reference-loading\">\n      <div style=\"margin: 0 auto;\" class=\"loading-flash\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n    <div class=\"chart-container\">\n      <canvas height=\"400px\" id=\"formsChart\"></canvas>\n    </div>\n    <div style=\"margin-bottom: 10px\"><button onclick=\"refresh()\" id=\"refresh-button\" type=\"button\" class=\"btn btn-outline-secondary\">Refresh</button></div>\n\n  </div>\n  <script>\n\"use strict\";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var extensionField,selectField,marketo={};function loadStats(){$(\".reference-loading\").show(),$(\"#refresh-button\").hide(),$(\".chart-container\").empty(),$(\".chart-container\").append('<canvas  height=\"400px\" id=\"formsChart\"></canvas>'),marketo.getFormStats().then(function(e){render(e)})}function refresh(){loadStats()}function transformStats(t){var n={labels:[],datasets:[],options:{}},e=Object.keys(t).map(function(e){return n.labels.push(t[e].id),t[e].count});return n.datasets.push({label:\"Marketo Form Stats\",backgroundColor:\"rgb(48,201,194, 0.3)\",borderColor:\"rgb(48,201,194)\",data:e,borderWidth:1}),n}function render(n){var e=document.getElementById(\"formsChart\");new Chart(e,{type:\"bar\",data:transformStats(n),options:{tooltips:{callbacks:{label:function(e,t){return\"\".concat(n[e.xLabel].name,\": \").concat(e.yLabel)}}},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),$(\".reference-loading\").hide(),$(\"#refresh-button\").show()}$(document).ready(function(){selectField=$(\"#form-select-field\"),ContentstackUIExtension.init().then(function(e){marketo=new Marketo((extensionField=e).config),loadStats(),extensionField.window.enableAutoResizing()})});var Marketo=function(){function r(e){var t=e.url,n=e[\"x-api-key\"];_classCallCheck(this,r),this.url=t,this.xApiKey=n}return _createClass(r,[{key:\"getFormStats\",value:function(e){return fetch(this.url,{headers:{\"x-api-key\":this.xApiKey}}).then(function(e){return e.json()}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}}]),r}();\n</script>\n</body>\n\n</html>"},"blt21fa9161f736a172":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt21fa9161f736a172","created_at":"2021-04-07T12:09:19.078Z","updated_at":"2021-04-07T12:09:19.078Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Google Analytics","config":{"url":"https://t7aikg25xb.execute-api.us-east-1.amazonaws.com/prod/google-analytics-widget","view_id":"190756444","x-api-key":"tUH3BxlmEx55nPjQJjXaF6GV4FkcFy588y4RqPS4"},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!DOCTYPE html>\n<html>\n<head>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" charset=\"UTF-8\">\n<link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n<style>\n.errormsg,.tbl{margin-left:0}#link,#loader{display:none}.errormsg{font-family:Arial,Helvetica,sans-serif;font-weight:700;margin-right:0;margin-top:30px;background-color:#eff1f4;width:100%;height:auto;font-size:23px;text-align:center}#tag{margin:0 5px 5px 15px;background-color:#fff;width:85px}#loader{margin-left:45%;margin-top:50%}.metric-details{margin-top:5px;margin-left:10%}.line{height:2px;color:#efefef;margin:24px 20px}a,h1{color:#4f6471}h1,p{margin:0}p{font-size:14px}h1{font-size:24px;line-height:1}a{text-decoration:none}a:hover{color:#25bd9f}\n</style>\n<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n<script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.js\"></script>\n</head><body>\n  <table class=\"tbl\">\n  <tr>\n  <td><button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(1,this)\">1 day</button></td>\n  <td><button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(7,this)\">7 days</button></td>\n  <td><button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(15,this)\">15 days</button></td></tr>\n  <tr>\n  <td><button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(30,this)\">30 days</button></td>\n  <td><button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(180,this)\">180 days</button></td>\n  <td><button type=\"button\" id=\"tag\" class=\"btn cs-btn-primary\" onclick=\"loadIntervalData(365,this)\">365 days</button></td></tr>\n  </table>\n  <div id=\"error\" class=\"errormsg\">\n  </div>\n  <div id=\"loader\" class=\"reference-loading\">\n     <div class=\"loading-flash\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n  </div>\n <div id=\"canvasbody\">\n </div>\t\n <script>\n\"use strict\";var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var extensionField=void 0,analytics=void 0,pagePath=void 0,Analytics=function(){function r(e){var t=e.url,a=e.view_id,n=e[\"x-api-key\"];_classCallCheck(this,r),this.baseUrl=t,this.viewId=a,this.xApiKey=n}return _createClass(r,[{key:\"getData\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:30,a=this,n={};return a.xApiKey&&(n[\"x-api-key\"]=a.xApiKey),fetch(a.baseUrl+\"?view_id=\"+a.viewId+\"&start_date=\"+t+\"daysAgo&end_date=today&metrics=ga:pageviews,ga:uniquePageviews,ga:users,ga:newUsers,ga:avgTimeOnPage,ga:pageLoadTime,ga:bounceRate&dimensions=ga:date&filters=ga:pagePath==\"+e,{method:\"GET\",headers:n}).then(function(e){if(200===e.status)return e.json();throw new Error(\"Error in fetching data.</br>Please check extension configuration.\")}).catch(function(e){return Promise.reject(e)})}}]),r}();function toggleLoader(e){document.getElementById(\"loader\").style.display=e?\"block\":\"none\"}function toggleButtons(e){for(var t=document.getElementsByClassName(\"btn cs-btn-primary\"),a=0;a<t.length;a+=1)t[a].disabled=e;toggleLoader(e)}function formatDate(e){return e[0]+e[1]+e[2]+e[3]+\"-\"+(e[4]+e[5])+\"-\"+(e[6]+e[7])}function addPadding(e){return 1===e.length?\"0\"+e:\"\"+e}function formatTime(e){var t,a,n,r=e;return t=((r%=86400)/3600).toFixed(),a=((r%=3600)/60).toFixed(),n=(r%=60).toFixed(),addPadding(t)+\":\"+addPadding(a)+\":\"+addPadding(n)}function drawChart(e,t){var a=google.visualization.arrayToDataTable(e);new google.visualization.AreaChart(document.getElementById(\"chart_container_\"+t)).draw(a,{hAxis:{textPosition:\"none\"},vAxis:{minValue:0},legend:\"none\",colors:[\"#098ec8\"]})}function renderMetric(e,t,a,n){document.getElementById(\"canvasbody\").innerHTML+='<div class=\"metric-details\"><p>'+n+\"</p><h1>\"+t+'</h1></div><div id=\"chart_container_'+a+'\"></div><hr class=\"line\">',google.charts.load(\"current\",{packages:[\"corechart\"]}),google.charts.setOnLoadCallback(drawChart.bind(null,e,a))}function displayError(e){document.getElementById(\"error\").innerHTML=\"<p>\"+e+\"</p>\"}function renderData(e){var t,a=void 0,n=void 0,r=void 0,o=void 0,i=void 0,s=void 0,l=void 0,d=e.totalsForAllResults[\"ga:pageviews\"],u=e.totalsForAllResults[\"ga:uniquePageviews\"],c=e.totalsForAllResults[\"ga:users\"],g=e.totalsForAllResults[\"ga:newUsers\"],m=e.totalsForAllResults[\"ga:avgTimeOnPage\"],y=e.totalsForAllResults[\"ga:pageLoadTime\"],v=e.totalsForAllResults[\"ga:bounceRate\"];a=[[\"year\",\"count\"]],n=[[\"year\",\"count\"]],r=[[\"year\",\"count\"]],o=[[\"year\",\"count\"]],i=[[\"year\",\"count\"]],s=[[\"year\",\"count\"]],l=[[\"year\",\"count\"]],t=e.rows.length;for(var f=0;f<t;f+=1)a.push([formatDate(e.rows[f][0]),Number(e.rows[f][1])]),n.push([formatDate(e.rows[f][0]),Number(e.rows[f][2])]),r.push([formatDate(e.rows[f][0]),Number(e.rows[f][3])]),o.push([formatDate(e.rows[f][0]),Number(e.rows[f][4])]),i.push([formatDate(e.rows[f][0]),Number(e.rows[f][5])]),s.push([formatDate(e.rows[f][0]),Number(e.rows[f][6])]),l.push([formatDate(e.rows[f][0]),Number(e.rows[f][7])]);Number(d)||Number(u)||Number(c)||Number(g)||Number(m)||Number(y)||Number(v)?(document.getElementById(\"error\").innerHTML=\"\",document.getElementById(\"link\").style.display=\"block\",renderMetric(a,d,1,\"Pageviews\"),renderMetric(n,u,2,\"Unique Pageviews\"),renderMetric(r,c,3,\"Users\"),renderMetric(o,g,4,\"New Users\"),renderMetric(i,formatTime(m),5,\"Avg. Time on Page\"),renderMetric(s,formatTime(y),6,\"Page Load Time\"),renderMetric(l,v+\"%\",7,\"Bounce Rate\")):(document.getElementById(\"canvasbody\").innerHTML=\" \",document.getElementById(\"link\").style.display=\"none\",displayError(\"No data available\"))}function loadIntervalData(e,t){document.getElementById(\"error\").innerHTML=\" \",document.getElementById(\"link\").style.display=\"none\",document.getElementById(\"canvasbody\").innerHTML=\"\";for(var a=document.getElementsByClassName(\"btn cs-btn-primary\"),n=t,r=0;r<a.length;r+=1)a[r].style.backgroundColor=\"white\";n.style.backgroundColor=\"#e6eaf2\",toggleButtons(!0),analytics.getData(pagePath,e).then(function(e){renderData(e),toggleButtons(!1)}).catch(function(e){displayError(e.message),toggleButtons(!1)})}ContentstackUIExtension.init().then(function(e){var t=document.getElementsByClassName(\"btn cs-btn-primary\");pagePath=(extensionField=e).entry.getField(\"url\").getData(),analytics=new Analytics(extensionField.config),loadIntervalData(30,t[3])});\n</script>\n <center id=\"link\">View full report on <a href=\"https://analytics.google.com/analytics/web/\" target=\"_blank\">Google Analytics</a></center>\n </body>\n</html>"},"bltb73db5becd2e2576":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/bltb73db5becd2e2576","created_at":"2021-04-07T12:09:19.104Z","updated_at":"2021-04-07T12:09:19.104Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Salesforce Einstein","config":{"url":"https://tde5tmcq6g.execute-api.us-east-1.amazonaws.com/default/contentstack--einstein-ai-widget","x-api-key":"O9412zR4f634bMBPX6zQO5D8ql2lKGvn6UFb4Oab","intentModels":[{"modelId":"RPNYN2CCUZ5KPYWWNOKDZ6CVOU","modelName":"Demo Model"}]},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Einstein AI</title>\n  <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\n  <link href=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.0.1/dist/ui-extension-sdk.css\" rel=\"stylesheet\">\n  <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\" integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://unpkg.com/@contentstack/ui-extensions-sdk@2.0.1/dist/ui-extension-sdk.js\"></script>\n  <style media=\"all\">\n#loader{margin-left:45%;margin-top:50%}.field-label{color:#4f6471;font-size:15px!important}.form-control{color:#748590;height:35px!important;max-width:255px!important}.container{padding-top:15px}.thumbnail{width:100%;height:100%}.select2-results__option{width:20%;float:left}img.img-thumbnail{max-height:126px}#run-btn{width:103px;margin-top:5px;margin-bottom:20px}#run-btn img{vertical-align:sub;margin-right:10px}#run-btn[disabled]{width:160px}.cs-form-group{margin-bottom:35px}label{font-weight:400;font-size:14px;color:#4f6470}.badge-info{background:#f0f9fe;border-radius:3px;font-size:14px;color:#6c7982;border:1px solid #c9dde2}.keys{font-size:14px;color:#748490;width:34%;margin-bottom:10px;display:inline-block}.count-value{font-size:14px;color:#748490}.list-group-item{background-color:#fff;border:none;padding-left:0}.result-li{border-bottom:1px solid rgba(0,0,0,.125)}#result-container{max-height:360px;overflow:auto;padding-bottom:25px}body{max-height:600px;overflow:auto}.result-wrapper{border-bottom:2px solid rgba(0,0,0,.125)}#result-container::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}#result-container::-webkit-scrollbar{width:5px;background-color:transparent}#result-container::-webkit-scrollbar-thumb{border-radius:6px;background-color:#dfe2e9;cursor:pointer}.intent-models{display:none}\n</style>\n</head>\n<div id=\"loader\" class=\"reference-loading\">\n  <div class=\"loading-flash\">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n</div>\n<div class=\"container\">\n  <div class=\"cs-form-group\">\n    <label for=\"models\" class=\"field-label\">Select Model</label>\n    <select class=\"form-control\" id=\"models\">\n      <option value=\"sentiment\">Einstein Sentiment</option>\n    </select>\n  </div>\n  <div class=\"cs-form-group intent-models\">\n    <label for=\"intent-models\" class=\"field-label\">Select Intent Model</label>\n    <select class=\"form-control\" id=\"intent-models\"></select>\n  </div>\n  <div class=\"cs-form-group\">\n    <label for=\"field\" class=\"field-label\">Field</label>\n    <select class=\"form-control\" id=\"field\"></select>\n  </div>\n  <button type=\"submit\" id=\"run-btn\" class=\"btn cs-btn-primary\">\n    <img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\">Run</button>\n</div>\n<div class=\"container\" id=\"result-container\">\n  <ul class=\"list-group\" id=\"result-list\"></ul>\n</div>\n<script>\n\"use strict\";var _createClass=function(){function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ConvertJsonToTable(parsedJson,tableId,tableClassName,linkText){var italic=\"<i>{0}</i>\",link=linkText?'<a href=\"{0}\">'+linkText+\"</a>\":'<a href=\"{0}\">{0}</a>',idMarkup=tableId?' id=\"'+tableId+'\"':\"\",classMarkup=tableClassName?' class=\"'+tableClassName+'\"':\"\",tbl='<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\"'+idMarkup+classMarkup+\">{0}{1}</table>\",th=\"<thead>{0}</thead>\",tb=\"<tbody>{0}</tbody>\",tr=\"<tr>{0}</tr>\",thRow=\"<th>{0}</th>\",tdRow=\"<td>{0}</td>\",thCon=\"\",tbCon=\"\",trCon=\"\";if(parsedJson){var isStringArray=\"string\"==typeof parsedJson[0],headers;if(isStringArray)thCon+=thRow.format(\"value\");else if(\"object\"==_typeof(parsedJson[0])){headers=array_keys(parsedJson[0]);for(var i=0;i<headers.length;i++)thCon+=thRow.format(headers[i])}if(th=th.format(tr.format(thCon)),isStringArray)for(var i=0;i<parsedJson.length;i++)tbCon+=tdRow.format(parsedJson[i]),trCon+=tr.format(tbCon),tbCon=\"\";else if(headers)for(var urlRegExp=new RegExp(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi),javascriptRegExp=new RegExp(/(^javascript:[\\s\\S]*;$)/gi),i=0;i<parsedJson.length;i++){for(var j=0;j<headers.length;j++){var value=parsedJson[i][headers[j]],isUrl=urlRegExp.test(value)||javascriptRegExp.test(value);isUrl?tbCon+=tdRow.format(link.format(value)):value?\"object\"==(void 0===value?\"undefined\":_typeof(value))?tbCon+=tdRow.format(ConvertJsonToTable(eval(value.data),value.tableId,value.tableClassName,value.linkText)):tbCon+=tdRow.format(value):tbCon+=tdRow.format(italic.format(value).toUpperCase())}trCon+=tr.format(tbCon),tbCon=\"\"}return tb=tb.format(trCon),tbl=tbl.format(th,tb),tbl}return null}function array_keys(t,e,n){var a=void 0!==e,o=[],r=!!n,i=!0,l=\"\";if(t&&\"object\"===(void 0===t?\"undefined\":_typeof(t))&&t.change_key_case)return t.keys(e,n);for(l in t)t.hasOwnProperty(l)&&(i=!0,a&&(r&&t[l]!==e?i=!1:t[l]!=e&&(i=!1)),i&&(o[o.length]=l));return o}String.prototype.format=function(){var n=arguments;return this.replace(/{(\\d+)}/g,function(t,e){return void 0!==n[e]?n[e]:\"{\"+e+\"}\"})};var fieldPaths=[],Einstein=function(){function a(t){var e=t.url,n=t[\"x-api-key\"];_classCallCheck(this,a),this.xApiKey=n,this.url=e}return _createClass(a,[{key:\"runAnalysis\",value:function(t,e){var a=this,o=void 0,r=e;return r.model=t,new Promise(function(e,n){var t={\"Content-Type\":\"application/json\"};t[\"x-api-key\"]=a.xApiKey,fetch(a.url,{method:\"POST\",headers:t,body:JSON.stringify(r)}).then(function(t){return o=t.status,t.json()}).then(function(t){throw 200===o&&e(t),Error(\"Failed to fetch resource\")}).catch(function(t){n(t)})})}}]),a}();function renderResult(t){var e=[];t.probabilities.forEach(function(t){e.push({Label:t.label,Probability:t.probability.toFixed(3)})}),$(\"#result-container\").append('<label class=\"field-label\">Result</label><br>'),$(\"#result-container\").append(\"\"+ConvertJsonToTable(e,\"jsonTable\",\"table table-bordered table-hover\",\"dbpedialink\"))}function domChangeListner(e){var o=new Einstein(e.config);$(\"#models\").on(\"change\",function(){var t=$(\"#models\").val();\"intent\"===t&&($(\"#intent-models option:not(:first)\").remove(),e.config.intentModels.forEach(function(t){$(\"#intent-models\").append('<option value=\"'+t.modelId+'\">'+t.modelName+\"</option>\")}),$(\".intent-models\").show()),\"sentiment\"===t&&$(\".intent-models\").hide()}),$(\"#run-btn\").on(\"click\",function(){var t=$(\"#models\").val(),e=$(\"#intent-models\").val(),n={},a=fieldPaths.find(function(t){return t.uid===$(\"#field\").val()}).value;n=\"intent\"===t?{modelId:e,document:a}:{modelId:\"CommunitySentiment\",document:a},$(\"#run-btn\").prop(\"disabled\",!0),$(\"#run-btn\").html(\"Working on it...\"),$(\"#result-container\").html(\"\"),o.runAnalysis(t,n).then(function(t){$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Run'),renderResult(t)}).catch(function(t){$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Run'),$(\"#result-container\").append('<div class=\"alert alert-danger\" role=\"alert\">'+t.message+\"</div>\")})})}function getPaths(t,e){var r=[];return function d(t,e,n,a){var u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],c=a,o=n?n.split(\".\"):[];t.forEach(function(i){var l=[].concat(_toConsumableArray(o),[i.uid]),s=l.join(\".\");if(e&&void 0!==e[i.uid]){if(\"text\"===i.data_type)if(!1===i.multiple){var t=c||s;r.push({uid:s,path:l,value:e[i.uid],setUid:t,titlePaths:[].concat(_toConsumableArray(u),[i.display_name])})}else 0<e[i.uid].length&&e[i.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]),a=c||s;r.push({uid:n.join(\".\"),path:n,value:t,setUid:a,titlePaths:[].concat(_toConsumableArray(u),[i.display_name,e])})});\"group\"===i.data_type&&(!1===i.multiple?d(i.schema,e[i.uid],s,c,[].concat(_toConsumableArray(u),[i.display_name])):0<e[i.uid].length&&e[i.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]);d(i.schema,t,n.join(\".\"),c,[].concat(_toConsumableArray(u),[i.display_name,e]))})),\"blocks\"===i.data_type&&0<e[i.uid].length&&e[i.uid].forEach(function(t,e){var n=[].concat(_toConsumableArray(l),[e]),a=Object.keys(t)[0],o=i.blocks.find(function(t){return t.uid===a}).schema,r=t[a];c=s,d(o,r,n.join(\".\"),c,[].concat(_toConsumableArray(u),[i.display_name,e]))})}})}(t.schema,e),r}function renderFieldSelectField(t){$(\"#field\").empty(),(fieldPaths=getPaths(t.entry.content_type,t.entry.getData())).forEach(function(t,e){$(\"#field\").append($(\"<option></option>\").attr(\"value\",t.uid).text(t.titlePaths.join(\" > \"))),e===fieldPaths.length-1&&$(\"#loader\").hide()})}function renderIntentModel(t){t&&$(\"#models\").append('<option value=\"intent\">Einstein Intent</option>')}$(document).ready(function(){ContentstackUIExtension.init().then(function(t){renderFieldSelectField(t),renderIntentModel(t.config.intentModels),domChangeListner(t)})});\n</script>\n\n\n</html>"},"blt9cf8dd3874b33eff":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/blt9cf8dd3874b33eff","created_at":"2021-04-07T12:09:19.131Z","updated_at":"2021-04-07T12:09:19.131Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Developer Tools","config":{},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!doctype html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>External API Lookup Template</title>\r\n   \r\n    <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\r\n    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\" integrity=\"sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO\" crossorigin=\"anonymous\">\r\n    <link rel=\"stylesheet\" href=\"https://rawgithub.com/yesmeck/jquery-jsonview/master/dist/jquery.jsonview.css\">\r\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCoreRDark.css\" rel=\"stylesheet\" type=\"text/css\">\r\n    <style media=\"all\">\r\nbody{line-height:1}.syntaxhighlighter code{font-size:13px!important}.syntaxhighlighter{min-height:100px;padding-top:50px}.container{padding-top:20px}.multiplequery,.singlequery{position:relative}body .container .tab-content #api .code-container .multiplequery .copy-button,body .container .tab-content #api .code-container .singlequery .copy-btn{position:absolute;right:15px;top:45px;z-index:1;padding:5px;font-size:13px;cursor:pointer;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;display:inline-block;visibility:hidden;background:#fff;outline:0}.advanced-queries,.gutter,.platform,.toolbar{display:none}body .container .tab-content #json .json-view .copy-json{position:relative;float:right;margin-right:15px;margin-top:10px;z-index:1;padding:5px;font-size:13px;cursor:pointer;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;visibility:hidden;background:#fff;outline:0}.form-group,.json-view{margin-top:46px}.code-container{margin-top:30px}.form-control{min-height:35px;color:#748590}.form-control:focus{box-shadow:none;border-color:#dfe2e9;outline:0}body .container .tab-content #api .code-container .multiplequery:hover .copy-button,body .container .tab-content #api .code-container .singlequery:hover .copy-btn,body .container .tab-content #json .json-view:hover .copy-json{visibility:visible}.nav{top:0;background:#fff;border-bottom:1px solid #eaeced;position:fixed;width:100%;z-index:5}.nav>li>a{border:none;color:#4f6471}.nav li a:hover,.nav>li.active{border-bottom:1px solid #25c2a3}.nav li a:hover{color:#25c2a3;background:#fff}.nav>li.active>a{color:#25c2a3}h5{color:#4f6471}.tab-content{overflow:auto}.advanced-queries a{color:#25c2a3}.advanced-queries a:hover{text-decoration:underline}.jsonview{background:#000;color:#fff}.jsonview .prop{font-weight:400;font-size:13px;color:#fff!important}.jsonview .string{font-weight:400;font-size:13px}.jsonview .num{color:#00f;font-size:13px}::-webkit-scrollbar{width:5px;height:5px}::-webkit-scrollbar-track:horizontal{background:0 0}::-webkit-scrollbar-thumb:horizontal{background:#c1c1c1}::-webkit-scrollbar-corner:horizontal{display:none;height:0;width:0}\r\n</style>\r\n    <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/1.1.0/ui-extension-sdk.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.x-git.min.js\"></script>\r\n    <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\" integrity=\"sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy\" crossorigin=\"anonymous\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJava.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.js\"></script>\r\n    <script type=\"text/javascript\" src=\" https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushRuby.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPhp.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://assets.contentstack.io/v3/assets/bltd1343376dfba54d2/blta259ac9447083872/5b715e5f96f9cd9343eb0916/objc.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\r\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\r\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://rawgithub.com/yesmeck/jquery-jsonview/master/dist/jquery.jsonview.css\">\r\n    <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://rawgithub.com/yesmeck/jquery-jsonview/master/dist/jquery.jsonview.js\"></script>\r\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jsrender/0.9.90/jsrender.min.js\" type=\"text/javascript\"></script>\r\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js\"></script>\r\n    <!--restapi template-->\r\n    <script id=\"restapiCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'> \r\n        https://cdn.contentstack.io/v3/content_types/{{>content_type}}/entries/{{>entry_id}}?api_key={{>api_key}}&access_token={{>access_token}}&environment={environment_name}&locale={{>locale}}\r\n        </pre>\r\n    </script>\r\n    \r\n    <!-- multiple query restapi template-->\r\n    <script id=\"multiple-query-restapiCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'> \r\n        https://cdn.contentstack.io/v3/content_types/{{>content_type}}/entries?api_key={{>api_key}}&access_token={{>access_token}}&environment={environment_name}&locale={{>locale}}\r\n        </pre>\r\n    </script>\r\n\r\n\r\n    <!--javascript/nodejs code template  -->\r\n    <script id=\"javascriptCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>    \r\n            //Initialize the Contentstack Stack\r\n            const Stack = Contentstack.Stack(\"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");  \r\n            //Get a Single Entry\r\n            const Query = Stack.ContentType(\"{{>content_type}}\").Entry(\"{{>entry_id}}\")\r\n            Query.fetch()\r\n                .then(function success(entry) {\r\n                    console.log(entry.get('title')); // Retrieve field value by providing a field's uid\r\n                    console.log(entry.toJSON()); // Convert the entry result object to JSON\r\n            }, function error(err) {\r\n                // err object\r\n            });\r\n        </pre>\r\n    </script>\r\n\r\n    <!--multiple query javascript/nodejs code template  -->\r\n    <script id=\"multiple-query-javascriptCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n            //Initialize the Contentstack Stack\r\n            const Stack = Contentstack.Stack(\"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");  \r\n            //Get multiple entries\r\n            const Query = Stack.ContentType('{{>content_type}}').Query();\r\n            Query\r\n                .where(\"title\", \"welcome\")\r\n                .includeSchema()\r\n                .includeCount()\r\n                .toJSON()\r\n                .find()\r\n                .then(function success(result) {\r\n                    // result is array where -\r\n                    // result[0] => entry objects\r\n                    // result[result.length-1] => entry objects count included only when .includeCount() is queried.\r\n                    // result[1] => schema of the content type is included when .includeSchema() is queried.\r\n                }, function error(err) {\r\n                    // err object\r\n                });\r\n        </pre>\r\n    </script>\r\n\r\n    <!--react code template  -->\r\n    <script id=\"reactCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n        \r\n            //Initialize the Contentstack Stack\r\n            var Stack = Contentstack.Stack({\r\n                'api_key': '{{>api_key}}',\r\n                'access_token': '{{>access_token}}',\r\n                'environment': '{environment_name}'\r\n            });\r\n            //Get a Single Entry\r\n            const Query = Stack.ContentType(\"{{>content_type}}\").Entry(\"{{>entry_id}}\")\r\n            Query.fetch()\r\n                .then(function success(entry) {\r\n                    console.log(entry.get('title')); // Retrieve field value by providing a field's uid\r\n                    console.log(entry.toJSON()); // Convert the entry result object to JSON\r\n            }, function error(err) {\r\n                // err object\r\n            });\r\n        </pre>\r\n    </script>\r\n\r\n\r\n    <!--multiple query react code template  -->\r\n    <script id=\"multiple-query-reactCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n        \r\n            //Initialize the Contentstack Stack\r\n            var Stack = Contentstack.Stack({\r\n                'api_key': '{{>api_key}}',\r\n                'access_token': '{{>access_token}}',\r\n                'environment': '{environment_name}'\r\n            });\r\n            //Get multiple entries\r\n            const Query = Stack.ContentType('{{>content_type}}').Query();\r\n            Query\r\n                .where(\"title\", \"welcome\")\r\n                .includeSchema()\r\n                .includeCount()\r\n                .toJSON()\r\n                .find()\r\n                .then(function success(result) {\r\n                    // result is array where -\r\n                    // result[0] => entry objects\r\n                    // result[result.length-1] => entry objects count included only when .includeCount() is queried.\r\n                    // result[1] => schema of the content type is included when .includeSchema() is queried.\r\n                }, function error(err) {\r\n                    // err object\r\n            });\r\n        </pre>\r\n    </script>\r\n\r\n    <!--java  code template -->\r\n    <script id=\"javaCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: java ct'>\r\n            //Initialize the Contentstack Stack\r\n            Stack  stack = Contentstack.stack(\"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");\r\n        \r\n            //Get a Single Entry\r\n            ContentType contentType = stack.contentType(\"{{>content_type}}\");\r\n            Entry blogEntry = contentType.entry(\"{{>entry_id}}\");\r\n            blogEntry.fetch(new EntryResultCallBack() {\r\n                @Override\r\n                public void onCompletion(ResponseType responseType, Error error){\r\n                    if (error == null) {\r\n                        // Success block\r\n                    } else {\r\n                        // Error block \r\n                    }\r\n                }\r\n            });\r\n        </pre>\r\n    </script>\r\n\r\n    <!--multiple query java  code template -->\r\n    <script id=\"multiple-query-javaCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: java ct'>\r\n            //Initialize the Contentstack Stack\r\n            Stack  stack = Contentstack.stack(\"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");\r\n                \r\n            //stack is an instance of Stack class\r\n            Query blogQuery = stack.contentType(\"{{>content_type}}\").query();\r\n            blogQuery.find(new QueryResultsCallBack() {\r\n                @Override\r\n                public void onCompletion(ResponseType responseType, QueryResult queryResult, Error error) {\r\n                    if(error == null){\r\n                        //Success block\r\n                    }else{\r\n                        //Error block\r\n                    }\r\n                }\r\n            });\r\n        </pre>\r\n    </script>\r\n\r\n    <!--android  code template -->\r\n    <script id=\"androidCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: java ct'>\r\n            //Initialize the Contentstack Stack\r\n            Stack  stack = Contentstack.stack(context, \"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");\r\n            \r\n            //Get a Single Entry\r\n            ContentType contentType = stack.contentType(\"{{>content_type}}\");\r\n            Entry blogEntry = contentType.entry(\"{{>entry_id}}\");\r\n            blogEntry.fetch(new EntryResultCallBack() {\r\n                @Override\r\n                public void onCompletion(ResponseType responseType, Error error){\r\n                    if (error == null) {\r\n                        // Success block\r\n                    } else {\r\n                        // Error block \r\n                    }\r\n                }\r\n            });\r\n        </pre>\r\n    </script>\r\n\r\n\r\n    <!--multiple query android  code template -->\r\n    <script id=\"multiple-query-androidCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: java ct'>\r\n            //Initialize the Contentstack Stack\r\n            Stack  stack = Contentstack.stack(context, \"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");\r\n                \r\n            //stack is an instance of Stack class\r\n            Query blogQuery = stack.contentType(\"{{>content_type}}\").query();\r\n            blogQuery.find(new QueryResultsCallBack() {\r\n                @Override\r\n                public void onCompletion(ResponseType responseType, QueryResult queryResult, Error error) {\r\n                    if(error == null){\r\n                        //Success block\r\n                    }else{\r\n                        //Error block\r\n                    }\r\n                }\r\n            });\r\n        </pre>\r\n    </script>\r\n\r\n\r\n\r\n    <!--ruby  code template -->\r\n    <script id=\"rubyCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: ruby ct'>\r\n            //Initialize the Contentstack Stack\r\n            @stack = Contentstack::Client.new(\"{{>api_key}}\", \"{{>access_token}}\", \"{enviroment_name}\")\r\n            //Get a Single Entry    \r\n            entry = @stack.content_type(\"{{>content_type}}\").entry(\"{{>entry_id}}\").fetch()\r\n            puts entry.get('title') # Use `get` method to retrieve field value by providing a field's unique ID\r\n            \r\n        </pre>\r\n    </script>\r\n    <!--multiple query ruby  code template -->\r\n    <script id=\"multiple-query-rubyCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: ruby ct'>\r\n            //Initialize the Contentstack Stack\r\n            @stack = Contentstack::Client.new(\"{{>api_key}}\", \"{{>access_token}}\", \"{enviroment_name}\")\r\n            \r\n            //Get multiple queries\r\n            @query = @stack.content_type('{{>content_type}').query\r\n            @entries = @query.where('title', 'welcome')\r\n                .include_schema\r\n                .include_count\r\n                .fetch\r\n            puts \"Total Entries -- #{@entries.count}\"\r\n            @entries.each{|entry| puts \"#{entry.get('title')}\" }\r\n        </pre>\r\n    </script>\r\n    <!--php code template -->\r\n    <script id=\"phpCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: php ct'>\r\n            //Initialize the Contentstack Stack\r\n            ```\r\n            use Contentstack\\Contentstack;\r\n            include_once \"contentstack/index.php\";\r\n            $stack = Contentstack::Stack({{>api_key}}, {{>access_token}}, {ENV_NAME});\r\n            ```\r\n            \r\n            //Get a Single Entry  \r\n                ```bash\r\n            $result = $stack->ContentType(\"{{>content_type}}\")->Entry(\"{{>entry_id}}\")->toJSON()->fetch()\r\n            $result - entry object\r\n        </pre>\r\n    </script>\r\n    <!--multiple query php code template -->\r\n    <script id=\"multiple-query-phpCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: php ct'>\r\n            //Initialize the Contentstack Stack\r\n            ```\r\n            use Contentstack\\Contentstack;\r\n            include_once \"contentstack/index.php\";\r\n            $stack = Contentstack::Stack({{>api_key}}, {ACCESS_TOKEN}, {ENV_NAME});\r\n            ```\r\n            //Get multiple entries\r\n            ```bash\r\n            $result = $stack->ContentType({{>content_type}})->Query()->toJSON()->includeCount()->includeContentType()->find()\r\n            $result[0] - array of entries\r\n            $result[1] - content type\r\n            $result[2] - count of the entries\r\n            ```\r\n        </pre>\r\n    </script>\r\n    <!--dotnet  code template -->\r\n    <script id=\"dotnetCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n            //Initialize the Contentstack Stack\r\n            ContentstackClient stack = new ContentstackClient(\"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");\r\n            //Get a Single Entry    \r\n            Entry entry = client.ContentType(\"{{>content_type}}\").Entry(\"{{>entry_id}}\");\r\n            entry.Fetch().ContinueWith((t) => { \r\n                if (!t.IsFaulted) { \r\n                    Console.WriteLine(\"entry:\" + t.Result);  \r\n                } \r\n            });\r\n        </pre>\r\n    </script>\r\n    <!--multiple query dotnet  code template -->\r\n    <script id=\"multiple-query-dotnetCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n            //Initialize the Contentstack Stack\r\n            ContentstackClient stack = new ContentstackClient(\"{{>api_key}}\", \"{{>access_token}}\", \"{environment_name}\");\r\n            //Get multiple entries\r\n            Query query = client.ContentType(\"{{>content_type}}\").Query(); \r\n            query.Where(\"title\", \"welcome\"); \r\n            query.IncludeSchema(); \r\n            query.IncludeCount(); \r\n            query.ToJSON(); \r\n            query.Find().ContinueWith((t) => { \r\n                if (!t.IsFaulted) { \r\n                    Entry[] result = t.Result.Result; \r\n                    Console.WriteLine(\"result\" + result); \r\n                } \r\n            });\r\n        </pre>\r\n    </script>\r\n    <!--ios (Swift)  code template -->\r\n    <script id=\"iossCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n            //Initialize the Contentstack Stack\r\n            let stack:Stack = Contentstack.stackWithAPIKey(\"{{>api_key}}\", accessToken:\"{{>access_token}}\", environmentName:@\"{environment_name}\")\r\n                \r\n            \r\n            //Get a Single Entry\r\n            var contentTypeObj:ContentType = stack.contentTypeWithName(\"{{>content_type}}\")\r\n            var entryObj:Entry = contentTypeObj.entryWithUID(\"{{>entry_id}}\")\r\n            entryObj.fetch { (error!) -> Void in\r\n                //error if exists then use 'error' object for details\r\n            }\r\n        </pre>\r\n    </script>\r\n    <!--multiple queries ios (Swift)  code template -->\r\n    <script id=\"multiple-query-iossCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n            //Initialize the Contentstack Stack\r\n            let stack:Stack = Contentstack.stackWithAPIKey(\"{{>api_key}}\", accessToken:\"{{>access_token}}\", environmentName:@\"{environment_name}\")\r\n                \r\n            //Get multiple entries\r\n            var contentTypeObj:ContentType = stack.contentTypeWithName(\"{{>content_type}}\")\r\n            var blogQuery:Query = contentTypeObj.query()\r\n            blogQuery.find { (responseType, result!, error!) -> Void in\r\n                //error for any error description\r\n                //result for response data\r\n            }\r\n        </pre>\r\n    </script>\r\n    <!--multiple queries ios (ObjC)  code template -->\r\n    <script id=\"multiple-query-iosoCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: js ct'>\r\n            //Initialize the Contentstack Stack\r\n            let stack:Stack = Contentstack.stackWithAPIKey(\"{{>api_key}}\", accessToken:\"{{>access_token}}\", environmentName:@\"{environment_name}\")\r\n            //Get multiple entries\r\n            ContentType *contentTypeObj = [stack contentTypeWithName:@\"{{>content_type}}\"];\r\n            Query *blogQuery = [contentTypeObj query];\r\n            [blogQuery find:^(ResponseType type, QueryResult *result, NSError *error) {\r\n                //error for any error description\r\n                //result for reponse data\r\n            }];\r\n        </pre>\r\n    </script>\r\n    <!--ios ObjC code template -->\r\n    <script id=\"iosoCodeTemplate\" type=\"text/x-jsrender\">\r\n        <pre class='brush: objc ct'>\r\n            //Initialize the Contentstack Stack\r\n            Stack *stack = [Contentstack stackWithAPIKey:@\"{{>api_key}}\" accessToken:@\"{{>access_token}}\" environmentName:@\"{environment_name}\"];\r\n                \r\n            //Get a Single Entry\r\n            ContentType *contentTypeObj = [stack contentTypeWithName:@\"{{>content_type}}\"];\r\n            Entry *entryObj  = [contentTypeObj entryWithUID:@\"{{>entry_id}}\"];\r\n            [entryObj fetch:^(NSError *error) {\r\n                //error if exists then use 'error' object for details\r\n            }];\r\n        </pre>\r\n    </script>\r\n</head>\r\n<body>\r\n    <div class=\"container\">\r\n        <ul class=\"nav\">\r\n            <li class=\"active\">\r\n                <a data-toggle=\"tab\" href=\"#api\">API Details</a>\r\n            </li>\r\n            <li>\r\n                <a class=\"jsonView\" data-toggle=\"tab\" href=\"#json\">JSON view</a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"tab-content\">\r\n            <div id=\"api\" class=\"tab-pane fade in active\">\r\n                <div class=\"form-group\">\r\n                    <h5 for=\"paltforms\">Select Platform</h5>\r\n                    <select id=\"paltforms\" class=\"form-control\">\r\n                        <!--<option>Select Platform</option>-->\r\n                    </select>\r\n                </div>\r\n                <div class=\"code-container\">\r\n                    <div class=\"singlequery\">\r\n                        <h5>Get this entry</h5>\r\n                        <button class=\"btn copy-btn\" data-clipboard-target=\"#editor\">\r\n                            Copy\r\n                        </button>\r\n                        <div id=\"editor\">\r\n                            <div class=\"java platform\"></div>\r\n                            <div class=\"android platform\"></div>\r\n                            <div class=\"restapi\"></div>\r\n                            <div class=\"ruby platform\"></div>\r\n                            <div class=\"php platform\"></div>\r\n                            <div class=\"javascript platform\"></div>\r\n                            <div class=\"node platform\"></div>\r\n                            <div class=\"react platform\"></div>\r\n                            <div class=\"dotnet platform\"></div>\r\n                            <div class=\"ioss platform\"></div>\r\n                            <div class=\"ioso platform\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"multiplequery\">\r\n                        <h5>Get all entries</h5>\r\n                        <button class=\"btn copy-button\" data-clipboard-target=\"#multiple-query-editor\">\r\n                            Copy\r\n                        </button>\r\n                        <div id=\"multiple-query-editor\">\r\n                            <div class=\"multiple-query-restapi\"></div>\r\n                            <div class=\"multiple-query-java platform\"></div>\r\n                            <div class=\"multiple-query-android platform\"></div>\r\n                            <div class=\"multiple-query-ruby platform\"></div>\r\n                            <div class=\"multiple-query-php platform\"></div>\r\n                            <div class=\"multiple-query-javascript platform\"></div>\r\n                            <div class=\"multiple-query-node platform\"></div>\r\n                            <div class=\"multiple-query-react platform\"></div>\r\n                            <div class=\"multiple-query-dotnet platform\"></div>\r\n                            <div class=\"multiple-query-ioss platform\"></div>\r\n                            <div class=\"multiple-query-ioso platform\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"advanced-queries\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div id=\"json\" class=\"tab-pane fade\">\r\n                <div class=\"json-view\">\r\n                    <button class=\"btn copy-json\">\r\n                            Copy\r\n                    </button>\r\n    \r\n                    <div id=\"json-collapsed\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script>\r\n\"use strict\";new ClipboardJS(\".btn\"),window.extensionField={};var optionValue=void 0,data={},platforms={restapi:\"Rest API\",javascript:\"Javascript\",java:\"Java\",android:\"Android\",ioss:\"ios(Swift)\",ioso:\"ios(ObjC)\",node:\"Node.js\",react:\"React Native\",ruby:\"Ruby\",php:\"PHP\",dotnet:\".Net\"};function getJsonData(e){var t={},a=e.entry.content_type.schema,r=e.entry._data;for(var o in a)r.hasOwnProperty(a[o].uid)&&(t[a[o].uid]=r[a[o].uid]);for(var o in r)t.hasOwnProperty(o)||(t[o]=r[o]);return t}function render(e){$(\".restapi\").hide(),$(\".multiple-query-restapi\").hide(),\"restapi\"===e?($(\".restapi\").show(),$(\".multiple-query-restapi\").show(),$(\".advanced-queries\").hide()):\"javascript\"===e?(renderToCodeTemplate(e,\"javascriptCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-javascriptCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/javascript-browser\">Advance query guide</a>')):\"java\"===e?(renderToCodeTemplate(e,\"javaCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-javaCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/java\">Advance query guide</a>')):\"android\"===e?(renderToCodeTemplate(e,\"androidCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-androidCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/android\">Advance query guide</a>')):\"ioss\"===e?(renderToCodeTemplate(e,\"iossCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-iossCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/ios\">Advance query guide</a>')):\"ioso\"===e?(renderToCodeTemplate(e,\"iosoCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-iosoCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/ios\">Advance query guide</a>')):\"node\"===e?(renderToCodeTemplate(e,\"javascriptCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-javascriptCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/nodejs\">Advance query guide</a>')):\"react\"===e?(renderToCodeTemplate(e,\"reactCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-reactCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/react-native\">Advance query guide</a>')):\"ruby\"===e?(renderToCodeTemplate(e,\"rubyCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-rubyCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/ruby\">Advance query guide</a>')):\"php\"===e?(renderToCodeTemplate(e,\"phpCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-phpCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/php\">Advance query guide</a>')):\"dotnet\"===e&&(renderToCodeTemplate(e,\"dotnetCodeTemplate\"),renderToMultipleQueryCodeTemplate(e,\"multiple-query-dotnetCodeTemplate\"),$(\".advanced-queries\").html('<a target=\"_blank\" href=\"https://www.contentstack.com/docs/platforms/dot-net\">Advance query guide</a>'))}function renderToCodeTemplate(e,t){var a=$(\"#\"+t).render(data);$(\".\"+e).html(a),SyntaxHighlighter.all(),SyntaxHighlighter.highlight()}function renderToMultipleQueryCodeTemplate(e,t){var a=$(\"#\"+t).render(data);$(\".multiple-query-\"+e).html(a),SyntaxHighlighter.all(),SyntaxHighlighter.highlight()}$(document).ready(function(){ContentstackUIExtension.init().then(function(e){var t=e,a=void 0;for(var r in data={api_key:t.stack._data.api_key,content_type:t.entry.content_type.uid,entry_id:t.entry._data.uid,access_token:t.stack._data.discrete_variables.access_token,locale:t.entry.locale},platforms){var o=document.createElement(\"option\");o.setAttribute(\"value\",r),o.innerText=platforms[r],$(\"#paltforms\").append(o)}a=$(\"#restapiCodeTemplate\").render(data),$(\".restapi\").html(a),a=$(\"#multiple-query-restapiCodeTemplate\").render(data),$(\".multiple-query-restapi\").html(a),SyntaxHighlighter.all(),SyntaxHighlighter.highlight(),$(\"select\").change(function(){!1===t.entry.content_type.options.singleton&&$(\".multiplequery\").show(),$(\".advanced-queries\").show(),$(this).find(\"option:selected\").each(function(){(optionValue=$(this).attr(\"value\"))?($(\".platform\").not(\".\"+optionValue).hide(),$(\".platform\").not(\".multiple-query-\"+optionValue).hide(),$(\".\"+optionValue).show(),$(\".multiple-query-\"+optionValue).show(),render(optionValue)):($(\".platform\").hide(),$(\".copy-btn\").hide())})}),$(\".jsonView\").on(\"click\",function(){$(\".copy-json\").attr(\"data-clipboard-text\",JSON.stringify(getJsonData(t),null,2)),$(\"#json-collapsed\").JSONView(getJsonData(t),{collapsed:!0})})})});\r\n</script>\r\n</body>\r\n</html>"},"bltdc702686f09c0be6":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/bltdc702686f09c0be6","created_at":"2021-04-07T12:09:19.166Z","updated_at":"2021-04-07T12:09:19.166Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"IBM Watson AI","config":{"x-api-key":"WIhPWkWj-6vkBH8kyEpKUa2An2i8jEBFi9hefYZy4cRt"},"type":"widget","scope":{"content_types":["$all"]},"srcdoc":"<!DOCTYPE html>\n<html>\n\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\n  <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\n  <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n  <style media=\"all\">\n.field-label{margin-top:10px;color:#4f6471;font-size:15px!important}.form-control{color:#748590;height:35px!important;max-width:255px!important}.container{padding-top:15px}.thumbnail{width:100%;height:100%}.select2-results__option{width:20%;float:left}img.img-thumbnail{max-height:126px}#run-btn{width:103px;margin-top:12px;margin-bottom:20px}#run-btn img{vertical-align:sub;margin-right:10px}#run-btn[disabled]{width:160px}.cs-form-group{margin-top:10px;margin-bottom:12px}label{font-weight:400;font-size:14px;color:#4f6470}.badge-info{background:#f0f9fe;border-radius:3px;font-size:14px;color:#6c7982;border:1px solid #c9dde2;white-space:normal}.count-value,.keys{font-size:14px;color:#748490}.keys{width:34%;margin-bottom:10px;display:inline-block}.list-group-item{background-color:#fff;border:none;padding-left:0}.result-li{border-bottom:1px solid rgba(0,0,0,.125)}#result-container{max-height:360px;padding-bottom:25px}body{max-height:600px;overflow:auto}.result-wrapper{border-bottom:2px solid rgba(0,0,0,.125)}#result-container::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}#result-container::-webkit-scrollbar{width:5px;background-color:transparent}#result-container::-webkit-scrollbar-thumb{border-radius:6px;background-color:#dfe2e9;cursor:pointer}.alert-danger{display:block;font-size:12px;color:#f77d7a;text-align:left;padding-top:0;padding-left:0;margin-top:-10px;background-color:transparent;border:0}\n</style>\n  <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\" integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>\n  <script src=\"https://assets.contentstack.io/v3/assets/bltc249966903dc3407/blt14fc510646d48b9e/5b8791325b3e6959793901e5/ui-extensions-sdk.js\"></script>\n</head>\n\n<body>\n  <form style=\"margin-top: 1em\" id=\"intelligence-form\">\n    <div class=\"container-fluid\">\n      <div style=\"display:none\" class=\"cs-form-group\">\n        <label for=\"field\" class=\"field-label\">Field</label>\n        <select class=\"form-control\" id=\"field\"></select>\n      </div>\n      <label class=\"model-label\">Models</label>\n      <div class=\"cs-checkbox row\" id=\"features\">\n      </div>\n      <button type=\"submit\" id=\"run-btn\" class=\"btn cs-btn-primary\"><img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\">Run</button>\n    </div>  \n  </form>\n      <div class=\"container\" id=\"result-container\">\n        <div id=\"nav-tabContent\"></div>\n      </div>\n  <script>\n\"use strict\";var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ConvertJsonToTable(parsedJson,tableId,tableClassName,linkText){var italic=\"<i>{0}</i>\",link=linkText?'<a href=\"{0}\">'+linkText+\"</a>\":'<a href=\"{0}\">{0}</a>',idMarkup=tableId?' id=\"'+tableId+'\"':\"\",classMarkup=tableClassName?' class=\"'+tableClassName+'\"':\"\",tbl='<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\"'+idMarkup+classMarkup+\">{0}{1}</table>\",th=\"<thead>{0}</thead>\",tb=\"<tbody>{0}</tbody>\",tr=\"<tr>{0}</tr>\",thRow=\"<th>{0}</th>\",tdRow=\"<td>{0}</td>\",thCon=\"\",tbCon=\"\",trCon=\"\";if(parsedJson){var isStringArray=\"string\"==typeof parsedJson[0],headers;if(isStringArray)thCon+=thRow.format(\"value\");else if(\"object\"==_typeof(parsedJson[0])){headers=array_keys(parsedJson[0]);for(var i=0;i<headers.length;i++)thCon+=thRow.format(headers[i])}if(th=th.format(tr.format(thCon)),isStringArray)for(var i=0;i<parsedJson.length;i++)tbCon+=tdRow.format(parsedJson[i]),trCon+=tr.format(tbCon),tbCon=\"\";else if(headers)for(var urlRegExp=new RegExp(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi),javascriptRegExp=new RegExp(/(^javascript:[\\s\\S]*;$)/gi),i=0;i<parsedJson.length;i++){for(var j=0;j<headers.length;j++){var value=parsedJson[i][headers[j]],isUrl=urlRegExp.test(value)||javascriptRegExp.test(value);isUrl?tbCon+=tdRow.format(link.format(value)):value?\"object\"==(void 0===value?\"undefined\":_typeof(value))?tbCon+=tdRow.format(ConvertJsonToTable(eval(value.data),value.tableId,value.tableClassName,value.linkText)):tbCon+=tdRow.format(value):tbCon+=tdRow.format(italic.format(value).toUpperCase())}trCon+=tr.format(tbCon),tbCon=\"\"}return tb=tb.format(trCon),tbl=tbl.format(th,tb),tbl}return null}function array_keys(e,t,n){var a=void 0!==t,r=[],o=!!n,i=!0,s=\"\";if(e&&\"object\"===(void 0===e?\"undefined\":_typeof(e))&&e.change_key_case)return e.keys(t,n);for(s in e)e.hasOwnProperty(s)&&(i=!0,a&&(o&&e[s]!==t?i=!1:e[s]!=t&&(i=!1)),i&&(r[r.length]=s));return r}String.prototype.format=function(){var n=arguments;return this.replace(/{(\\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:\"{\"+t+\"}\"})};var toPercentage=function(e){return(100*e).toFixed(1)+\"%\"},combine=function(e){for(var t=e,n=\"\",a=0;a<t.length-1;a+=1)n=n+t[a].text+\", \";return n+t[t.length-1].text},features={categories:{name:\"Categories\",description:\"Categorize your content into a 5-level taxonomy. The top three categories will be returned.\",options:{},responseKeys:[\"score\",\"label\"],transform:function(e){return e.map(function(e){var t=e.score,n=e.label;return{score:toPercentage(t),label:n}})}},concepts:{name:\"Concepts\",description:'Recognize high-level concepts that are related to your text. For example, analysis of a research paper about deep learning would likely return the concept \"Artificial Intelligence\", even if that term is not explicitly mentioned in the paper.',options:{},responseKeys:[\"text\",\"relevance\",\"dbpedia_resource\"],transform:function(e){return e.map(function(e){var t=e.text,n=e.relevance,a=e.dbpediaResource;return{text:t,relevance:toPercentage(n),dbpedia:a}})}},emotion:{name:\"Emotion\",description:\"Detect emotion conveyed by the entire body of text.\",options:{},responseKeys:[\"sadness\",\"joy\",\"fear\",\"disgust\",\"anger\"],transform:function(e){var t=e.document;return Object.keys(t.emotion).map(function(e){return{emotion:e,score:toPercentage(t.emotion[e])}})}},entities:{name:\"Entities\",description:\"Identify people, cities, organizations, and many other types of entities in your text.\",options:{},responseKeys:[\"type\",\"text\",\"relevance\",\"count\"],transform:function(e){return e.map(function(e){var t=e.type,n=e.text,a=e.relevance,r=e.count;return{type:t,text:n,relevance:toPercentage(a),count:r}})}},keywords:{name:\"Keywords\",description:\"Identify the important keywords in your content.\",options:{},responseKeys:[\"text\",\"relevance\"],transform:function(e){return e.map(function(e){var t=e.text,n=e.relevance;return{text:t,relevance:toPercentage(n)}})}},relations:{name:\"Relations\",description:'Recognize when two entities are related, and identify the type of relation. For example, an \"awardedTo\" relation might connect the entities \"Nobel Prize\" and \"Albert Einstein\".',options:{},responseKeys:[\"type\",\"sentence\",\"score\"],transform:function(e){return e.map(function(e){var t=e.arguments,n=e.score;return{type:e.type,args:combine(t),score:toPercentage(n)}})}},semantic_roles:{name:\"Semantic Roles\",description:\"Parse sentences into subject, action, and object form.\",options:{},responseKeys:[\"subject\",\"object\",\"action\"],transform:function(e){return e.map(function(e){var t=e.action,n=e.object,a=e.subject;return{action:t.text,object:n.text,subject:a.text}})}},sentiment:{name:\"Sentiment\",description:\"Analyze the general sentiment of your content or analyze the sentiment toward specific target phrases found in the text.\",options:{},responseKeys:[\"text\",\"score\",\"label\"],transform:function(e){var t=e.document;return[{score:toPercentage(t.score),label:t.label}]}}},fieldPaths=[];function getPaths(e,t){var o=[],d=void 0;return function c(e,t,n,a){var u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];d=a;var r=n?n.split(\".\"):[];e.forEach(function(i){var s=[].concat(_toConsumableArray(r),[i.uid]),l=s.join(\".\");if(t&&void 0!==t[i.uid]){if(\"text\"===i.data_type)if(!1===i.multiple){var e=d||l;o.push({uid:l,path:s,value:t[i.uid],setUid:e,titlePaths:[].concat(_toConsumableArray(u),[i.display_name])})}else 0<t[i.uid].length&&t[i.uid].forEach(function(e,t){var n=[].concat(_toConsumableArray(s),[t]),a=d||l;o.push({uid:n.join(\".\"),path:n,value:e,setUid:a,titlePaths:[].concat(_toConsumableArray(u),[i.display_name,t])})});\"group\"===i.data_type&&(!1===i.multiple?c(i.schema,t[i.uid],l,d,[].concat(_toConsumableArray(u),[i.display_name])):0<t[i.uid].length&&t[i.uid].forEach(function(e,t){var n=[].concat(_toConsumableArray(s),[t]);c(i.schema,e,n.join(\".\"),d,[].concat(_toConsumableArray(u),[i.display_name,t]))})),\"blocks\"===i.data_type&&0<t[i.uid].length&&t[i.uid].forEach(function(e,t){var n=[].concat(_toConsumableArray(s),[t]),a=Object.keys(e)[0],r=i.blocks.find(function(e){return e.uid===a}).schema,o=e[a];d=l,c(r,o,n.join(\".\"),d,[].concat(_toConsumableArray(u),[i.display_name,t]))})}})}(e.schema,t),o}function runAnalysis(a,r,e){var o=e.url,i=e[\"x-api-key\"];console.log(\"!!!\",o,i),o=\"https://ui-extension.herokuapp.com/https://gateway-wdc.watsonplatform.net/natural-language-understanding/api/v1/analyze?version=2018-03-19\";var s=void 0;return new Promise(function(t,n){var e={\"Content-Type\":\"application/json\"};i&&(e.Authorization=\"Basic YXBpa2V5OldJaFBXa1dqLTZ2a0JIOGt5RXBLVWEyQW4yaThqRUJGaTloZWZZWnk0Y1J0\"),fetch(o,{method:\"POST\",body:JSON.stringify({text:r,features:a}),headers:e}).then(function(e){return s=e.status,e.json()}).then(function(e){if(200===s)return t(e);throw Error(\"Failed to run analysis:\"+e.error)}).catch(function(e){n(e)})})}function activaTab(e){$(\".tab-pane\").hide(),$(\"#\"+e).show(\"\")}function renderFieldSelectField(e){var n=$(\"#field\").val();$(\"#field\").empty(),(fieldPaths=getPaths(e.entry.content_type,e.entry.getData())).forEach(function(e){var t=$(\"<option></option>\").attr(\"value\",e.uid).text(e.titlePaths.join(\" > \"));n===e.uid&&t.attr(\"selected\",\"selected\"),$(\"#field\").append(t)})}function renderResult(a,e){$(\"#result-container\").append('<label class=\"control-label col-sm-offset-2 col-sm-2\" for=\"results\" style=\"margin-left:-14px !important;\">Results :</label><select id=\"results\" style=\"margin-bottom:14px\" class=\"form-control\"></select><div id=\"nav-tabContent\"></div>'),e.forEach(function(e,t){$(\"#results\").append($('<option value=\"nav-'+e+'\"></option>').text(features[e].name));var n=features[e].transform(a[e]);0===n.length&&(n=[{Message:\"No results for \"+e+\" model\"}]),$(\"#nav-tabContent\").append($(' <div class=\"tab-pane\" id=\"nav-'+e+'\" style=\"display:'+(0===t?\"block\":\"none\")+';\" role=\"tabpanel\" aria-labelledby=\"nav-'+e+'-tab\">'+ConvertJsonToTable(n,\"jsonTable\",\"table table-bordered table-hover\",\"dbpedialink\")+\"</div>\"))}),$(\"#results\").on(\"change\",function(){activaTab($(\"#results\").val())})}function domChangeListner(i){i.entry.onSave(function(){return renderFieldSelectField(i)}),$(\"#run-btn\").on(\"click\",function(e){e.preventDefault(),$(\"#result-container\").html(\"\");var n={};$(\"#features input[type=checkbox]\").each(function(e){var t=$(\"#features input[type=checkbox]\")[e];t.checked&&(n[t.name]=features[t.name].options)});var t=Object.keys(n);if(0===t.length)return $(\"#result-container\").append('<div class=\"alert alert-danger\" role=\"alert\">Please select at least one analysis model</div>');$(\"#run-btn\").prop(\"disabled\",!0),$(\"#run-btn\").html(\"Working on it...\"),console.log(fieldPaths.find(function(e){return e.uid===$(\"#field\").val()}).value),console.log(fieldPaths);var a,r,o=\"\";return fieldPaths.forEach(function(e){e&&e.value&&isNaN(e.value)&&(o+=\" \"+e.value)}),a=o,(r=document.createElement(\"DIV\")).innerHTML=a,o=r.textContent||r.innerText||\"\",console.log(o),runAnalysis(n,o,i.config).then(function(e){$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Run'),renderResult(e,t)}).catch(function(e){$(\"#run-btn\").prop(\"disabled\",!1),$(\"#run-btn\").html(\"\"),$(\"#run-btn\").append('<img src=\"https://images.contentstack.io/v3/assets/bltc249966903dc3407/blt40a60d26b3d8095f/5b7660b25b9f14da0eb07a34/operation.svg\" alt=\"run-icon\"/> Run'),$(\"#result-container\").append('<div class=\"alert alert-danger\" role=\"alert\">'+e.message+\"</div>\")}),!0})}function renderModelSelectField(){$.each(features,function(e){$(\"#features\").append($(\"<label></label>\").attr(\"class\",\"col-6\").append($(\"<input></input>\").attr(\"name\",e).attr(\"type\",\"checkbox\").attr(\"class\",\"cs\")).append($(\"<span></span>\").attr(\"class\",\"lbl\").text(features[e].name)))})}$(document).ready(function(){ContentstackUIExtension.init().then(function(e){e.window.enableAutoResizing(),renderModelSelectField(),renderFieldSelectField(e),domChangeListner(e)})});\n</script>\n</body>\n\n</html>"},"bltef80af92a106d9b1":{"stackHeaders":{"api_key":"blta75af917b78de8fb"},"urlPath":"/extensions/bltef80af92a106d9b1","created_at":"2021-04-07T12:09:19.192Z","updated_at":"2021-04-07T12:09:19.192Z","created_by":"bltd0aa0d4b8e084083","updated_by":"bltd0aa0d4b8e084083","tags":[],"ACL":[],"_version":1,"title":"Vimeo","config":{"access_token":"3dee8923c50b389db71588fb8577c511"},"type":"field","data_type":"text","multiple":false,"srcdoc":"<!doctype html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Vimeo Sample</title>\n  <script src=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.js\"></script>\n  <link href=\"https://www.contentstack.com/sdks/contentstack-ui-extensions/dist/latest/ui-extension-sdk.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\">\n  <style media=\"all\">\na,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font-weight:500;font-family:'Whitney SSm A','Whitney SSm B',Arial;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1;overflow:hidden}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}.msg{padding:20px}.loader{display:none}.wrapper{margin:0;padding:0;width:100%}.wrapper .container{width:1200px;margin:0 auto;overflow:hidden}.discription_box ul,.wrapper .container .discription_box{width:100%;float:left}.discription_box ul{display:block;padding-bottom:25px}.discription_box ul li[id]{width:30.33%;float:left;display:block;margin-right:3%;border:1px solid #ccc}.discription_box ul li span{font-size:14px;line-height:20px;display:block;border-radius:32px}.discription_box ul li span.title{font-size:16px;line-height:20px;padding:10px 10px 5px;display:block;color:#748590}.discription_box ul li p{font-size:12px;line-height:14px;padding:0 10px 20px;margin-bottom:0;color:#748590}.discription_box ul li{position:relative;display:block}.discription_box .choose_video{border:1px solid #25c2a3;border-radius:24px;font-size:14px;line-height:1.42857143;padding:5px 15px;display:inline-block;text-align:center;text-decoration:none;color:#25c2a3}.wrapper .container .list_section{width:100%;display:none;float:left}.wrapper .container .list_section form{padding-top:20px}.list_section ul{width:100%;float:left;display:block;padding-top:35px;padding-bottom:25px}.list_section ul li{width:28.33%;float:left;display:block;margin-right:4.2%;border:1px solid transparent;margin-bottom:19px}.list_section ul li section{position:relative;display:block;height:150px;width:100%}.list_section ul li section img{width:100%;height:100%;position:relative;cursor:default}.list_section ul li span.title{font-size:16px;line-height:20px;padding:10px 10px 5px;display:block;color:#748590}.list_section ul li p{font-size:12px;line-height:14px;padding:0 10px 20px;margin-bottom:0;color:#748590}.list_section ul li.selected{position:relative;border:1px solid #4895e6}.list_section ul li.selected:after{width:8px;position:absolute;content:'';right:15px;top:7px;height:8px;border-radius:50%;border:7px solid #4895e6;background:#fff}@media (max-width:1200px){.wrapper .container{width:100%}.list_section ul li{margin-right:4%;cursor:pointer}}.list_section ul li:nth-child(3n+3){margin-right:4%}.reference-loading{width:50%}.reference-loading .loader,.reference-loading .loader:after,.reference-loading .loader:before{border-radius:50%;width:1.3em;height:1.3em;-webkit-animation:load7 1.8s infinite ease-in-out;animation:load7 1.8s infinite ease-in-out}.reference-loading .loader{color:#25c2a3;font-size:10px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s;top:-20px;margin-left:6%}.reference-loading .loader:after,.reference-loading .loader:before{content:'';position:absolute;top:0}.discription_box ul li img,.list_section ul li a img{width:100%;height:150px;position:relative}.reference-loading .loader:before{left:-2.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.reference-loading .loader:after{left:2.5em}.msg{display:none;padding-left:20px}.discription_box ul li img{max-height:150px;cursor:default}.reference-loading{display:inline-block;margin-left:50px}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}.reference-loading .loading{text-align:center;margin:20px auto}.reference-loading .loading-flash div{border-radius:50%;height:10px;width:10px;display:inline-block;box-sizing:border-box;background:#25c2a3}.reference-loading .loading-flash div:nth-of-type(4){animation:flash .4s .5s ease-in-out infinite}.reference-loading .loading-flash div:nth-of-type(3){animation:flash .4s .2s linear infinite}.reference-loading .loading-flash div:nth-of-type(2){animation:flash .4s -.1s linear infinite}.reference-loading .loading-flash div:nth-of-type(1){animation:flash .4s -.4s linear infinite}@keyframes flash{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}\n</style>\n  <script src=\"https://code.jquery.com/jquery-1.11.1.min.js\" integrity=\"sha256-VAvG3sHdS5LqTT+5A/aeq/bZGa/Uj04xKxY8KM/w9EE=\" crossorigin=\"anonymous\"></script>\n</head>\n\n<body>\n  <div class=\"wrapper\">\n    <div class=\"container\">\n      <div class=\"discription_box\">\n        <ul>\n          <li>\n          </li>\n        </ul>\n        <a href=\"#\" class=\"choose_video\">Choose Video</a>\n        <div class=\"reference-loading\">\n          <div class=\"loading-flash\">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n          </div>\n        </div>\n      </div>\n      <!-- list section start  here -->\n      <div class=\"list_section\">\n        <form action=\"\">\n          <input type=\"search\" class=\"cs-text-box w-100 searchInpput\" placeholder=\"Search...\">\n        </form>\n        <div class=\"loader\">\n          <img id=\"loader-img\" alt=\"loader\" src=\"https://clinicalpulse.com/img/loading.gif\" width=\"100\" height=\"100\" align=\"center\">\n        </div>\n        <div class=\"msg\">No Videos Found</div>\n        <ul id=\"videos\">\n        </ul>\n      </div>\n      <!-- list section ends  here -->\n    </div>\n  </div>\n  <script>\n\"use strict\";var _createClass=function(){function n(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}();function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError(\"Cannot call a class as a function\")}var extensionField=void 0,loader=void 0,unorderedList=void 0,msg=void 0,vimeo={},initialList=void 0;function render(e,i){loader.hide(),unorderedList.empty(),msg.hide(),e.forEach(function(e,i){console.log(\"unorderedList\",unorderedList,e),unorderedList.append('<li id=\"'+e.uri.slice(8)+'\"><section class=\"img-wrapper\"><img src=\"'+e.pictures.sizes[3].link+'\" alt=\"image-6\"></section> <span class=\"title\">'+e.name+\"</span><p>\"+e.description+\"</p></li>\")});var t=extensionField&&extensionField.field&&extensionField.field.getData()?extensionField.field.getData():null;if(t){var n=document.getElementById(t),o=$(n)[0].outerHTML;$(\".discription_box ul\").html(o),$(\".discription_box ul li a\").click(function(e){e.preventDefault()}),setTimeout(function(){i||extensionField.window.updateHeight(300)},1e3)}$(\".choose_video\").click(function(e){e.preventDefault(),$(\".list_section\").show()}),domChangeListner()}function domChangeListner(){var e=$(\".list_section ul li\");$(\".list_section ul li section\").click(function(e){e.preventDefault(),$(\".list_section ul li\").removeClass(\"selected\"),$(this).parent().addClass(\"selected\")}),e.click(function(){var e=$(this)[0].outerHTML;extensionField.field.setData($(this).attr(\"id\")).then(function(){$(\".discription_box ul\").html(e),$(\".list_section\").hide()}).catch(function(e){console.log(\"error in setting data\",e)})})}$(document).ready(function(){msg=$(\".msg\"),loader=$(\".reference-loading\"),unorderedList=$(\".list_section ul\"),ContentstackUIExtension.init().then(function(e){(vimeo=new Vimeo((extensionField=e).config.access_token)).getVideos().then(function(e){render(initialList=e)}),$(\".searchInpput\").on(\"keypress\",function(e){var i=$(this).val().toLowerCase();if(13==e.keyCode){if(e.preventDefault(),!i)return render(initialList,!0);vimeo.searchVideos(i).then(function(e){if(0===e.length)return loader.hide(),unorderedList.empty(),void msg.show();render(e,!0)})}}),$(\".searchInpput\").on(\"keyup\",function(e){if(!$(this).val().toLowerCase())return msg.hide(),render(initialList,!0)}),extensionField.window.enableAutoResizing()})});var Vimeo=function(){function i(e){_classCallCheck(this,i),this.accesToken=e}return _createClass(i,[{key:\"searchVideos\",value:function(e){var n=this,o=void 0;return new Promise(function(i,t){fetch(\"https://api.vimeo.com/me/videos/?query=\"+e+\"&access_token=\"+n.accesToken+\"&fields=name,description,pictures.sizes.link,uri\",{method:\"GET\"}).then(function(e){return o=e.status,e.json()}).then(function(e){throw 200===o&&i(e.data),Error(\"Failed to fetch videos from Vimeo\")}).catch(function(e){t(e)})})}},{key:\"getVideos\",value:function(){var e=this,n=void 0;return new Promise(function(i,t){fetch(\"https://api.vimeo.com/me/videos/?access_token=\"+e.accesToken+\"&fields=name,description,pictures.sizes.link,uri\",{method:\"GET\"}).then(function(e){return n=e.status,e.json()}).then(function(e){throw 200===n&&i(e.data),Error(\"Failed to fetch videos from Vimeo\")}).catch(function(e){t(e)})})}}]),i}();\n</script>\n</body>\n\n</html>"}}